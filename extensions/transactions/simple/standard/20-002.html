<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>OGC API - Features - Part 4: Create, Replace, Update and Delete</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>OGC API - Features - Part 4: Create, Replace, Update and Delete</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC&#174; document: <a href="http://www.opengis.net/doc/IS/ogcapi-features-4/1.0" class="bare">http://www.opengis.net/doc/IS/ogcapi-features-4/1.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC&#174; document:    20-002</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: <a href="http://docs.opengeospatial.org/DRAFTS/20-002.html">1.0.0-SNAPSHOT (Editor&#8217;s draft)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Latest Published Draft: n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC&#174; Implementation Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editors: Panagiotis (Peter) A. Vretanos, Clemens Portele</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC API - Features - Part 4: Create, Replace, Update and Delete</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright &#169; 2021 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC® Standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:   	Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: 	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_definitions_and_abbreviated_terms">4. Terms, definitions and abbreviated terms</a>
<ul class="sectlevel2">
<li><a href="#_terms_and_definitions">4.1. Terms and Definitions</a>
<ul class="sectlevel3">
<li><a href="#endpoint-def">4.1.1. endpoint</a></li>
<li><a href="#resources-endpoint-def">4.1.2. resources endpoint</a></li>
<li><a href="#resource-endpoint-def">4.1.3. resource endpoint</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_conventions_and_background">5. Conventions and background</a>
<ul class="sectlevel2">
<li><a href="#_general_remarks">5.1. General remarks</a></li>
<li><a href="#_identifiers">5.2. Identifiers</a></li>
<li><a href="#_sequence_diagrams">5.3. Sequence diagrams</a></li>
<li><a href="#_dependencies_to_other_requirements_classes">5.4. Dependencies to other requirements classes</a></li>
</ul>
</li>
<li><a href="#create-replace-delete_clause">6. Requirements Class "Create/Replace/Delete"</a>
<ul class="sectlevel2">
<li><a href="#create-replace-delete-overview">6.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#http_status_codes">6.1.1. HTTP status codes</a></li>
</ul>
</li>
<li><a href="#create">6.2. Adding a new resource to a collection (CREATE)</a>
<ul class="sectlevel3">
<li><a href="#_sequence_diagram">6.2.1. Sequence diagram</a></li>
<li><a href="#_operation">6.2.2. Operation</a></li>
<li><a href="#_request_body">6.2.3. Request body</a></li>
<li><a href="#_response">6.2.4. Response</a></li>
<li><a href="#_exceptions">6.2.5. Exceptions</a></li>
</ul>
</li>
<li><a href="#replace">6.3. Replacing an existing resource (REPLACE)</a>
<ul class="sectlevel3">
<li><a href="#_sequence_diagram_2">6.3.1. Sequence diagram</a></li>
<li><a href="#_operation_2">6.3.2. Operation</a></li>
<li><a href="#_request_body_2">6.3.3. Request body</a></li>
<li><a href="#_overview_2">6.3.4. Overview</a></li>
<li><a href="#_response_2">6.3.5. Response</a></li>
<li><a href="#_exceptions_2">6.3.6. Exceptions</a></li>
</ul>
</li>
<li><a href="#delete">6.4. Removing a resource from a collection (DELETE)</a>
<ul class="sectlevel3">
<li><a href="#_sequence_diagram_3">6.4.1. Sequence diagram</a></li>
<li><a href="#_operation_3">6.4.2. Operation</a></li>
<li><a href="#_response_3">6.4.3. Response</a></li>
<li><a href="#_exceptions_3">6.4.4. Exceptions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#update_clause">7. Requirements Class "Update"</a>
<ul class="sectlevel2">
<li><a href="#update-overview">7.1. Overview</a></li>
<li><a href="#update">7.2. Modifying an existing resource (UPDATE)</a>
<ul class="sectlevel3">
<li><a href="#_sequence_diagram_4">7.2.1. Sequence diagram</a></li>
<li><a href="#_operation_4">7.2.2. Operation</a></li>
<li><a href="#_request_body_3">7.2.3. Request body</a></li>
<li><a href="#_response_4">7.2.4. Response</a></li>
<li><a href="#_exceptions_4">7.2.5. Exceptions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#features_clause">8. Features</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">8.1. Overview</a></li>
<li><a href="#features-endpoint">8.2. Resources endpoint</a></li>
<li><a href="#feature-endpoint">8.3. Resource endpoint</a></li>
<li><a href="#feature-crs">8.4. Coordinate reference systems (CRS)</a></li>
<li><a href="#feature-representations">8.5. Representation of features</a>
<ul class="sectlevel3">
<li><a href="#feature-geojson">8.5.1. GeoJSON</a></li>
<li><a href="#feature-gml">8.5.2. Geography Markup Language (GML)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mediatypes">9. Media Types</a></li>
<li><a href="#_security_considerations">10. Security Considerations</a></li>
<li><a href="#ats">Annex A: Abstract Test Suite (Normative)</a></li>
<li><a href="#_revision_history">Annex B: Revision History</a></li>
<li><a href="#Bibliography">Annex C: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>OGC API standards define modular API building blocks to spatially enable Web APIs in a consistent way. The <a href="#OpenAPI">OpenAPI specification</a> is used to define the API building blocks.</p>
</div>
<div class="paragraph">
<p>This document defines the behaviour of an API that allows resource instances
to be added, replaced, modified and/or removed for a collection.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This specification is being developed in the OGC Features API SWG but is being written as a generic extension that is applicable to a variety of resource types including features.  The feature-specific portions of this extension are issolated to the clause titled <a href="#features">Features</a>.  It is anticipated that the bulk of this extension will eventually be moved into 'OGC API - Common' and only the feature-specific content will remain to be managed by the OGC Features API SWG.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
This is a DRAFT version of the 4th part of the OGC API - Features standards. This draft is not complete and there are open issues that are still under discussion.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>OGC API resource feature collection instance spatial data openapi transactions insert update delete add modify remove REST PUT POST DELETE PATCH</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organizations submitted this document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CubeWerx Inc.</p>
</li>
<li>
<p>interactive instruments GmbH</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editors or the submitters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Affiliation</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Clemens Portele <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">interactive instruments GmbH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Panagiotis (Peter) A. Vretanos <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">CubeWerx Inc.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document specifies an extension that defines the behaviour of a server
that supports operations to add, replace, modify or delete individual resources
from a collection.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Additional specifications are planned to handle transactions that require batch or atomicity semantics.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Specifically, this document specifies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How to add a new resource instance to a collection (i.e. create).</p>
</li>
<li>
<p>How to modify an existing resource from a collection; this includes entirely replacing the existing resource (i.e. replace) or simply modifying one or more properties of a resource (i.e. update).</p>
</li>
<li>
<p>How to remove an existing resource from a collection (i.e. delete).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following table crosswalks each of the resource endpoints discussed in this
standard with the HTTP methods POST, PUT, PATCH and DELETE.  Each intersecting
cell in the table either contains the name of the operation for that
combination of resource endpoint and HTTP method, or it contains the
phrase "n/a" which is used to indicate that this specification does not
specify any behaviour for that combination of resource endpoint and HTTP
method.</p>
</div>
<table id="endpoint_method_matrix" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported HTTP methods by resource</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 12%;">
<col style="width: 13%;">
<col style="width: 13%;">
<col style="width: 12%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Resource endpoint</th>
<th class="tableblock halign-left valign-top" colspan="4" style="background-color: #FFFFFF;">HTTP method</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>POST</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>PUT</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>PATCH</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>DELETE</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections/{collectionId}/items</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#create">create</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>/collections/{collectionId}/items/{resourceId}</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#replace">replace</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#update">update</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#delete">delete</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines three requirements / conformance classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_create-replace-delete">Create/Replace/Delete</a>.</p>
</li>
<li>
<p><a href="#rc_simeletx_patch">Update</a></p>
</li>
<li>
<p><a href="#rc_features">Features</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The standardization target is "Web APIs".</p>
</div>
<div class="paragraph">
<p>The URIs of the associated conformance classes are:</p>
</div>
<table id="conf_class_uris" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Conformance class URIs</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Conformance class</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Create/Replace/Delete</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/create-replace-delete" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/create-replace-delete</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Update</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/update" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/update</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Features</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/features" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/conf/features</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests
specified in <a href="#ats">Annex A</a> of this document. The framework, concepts, and
methodology for testing, and the criteria to be achieved to claim conformance
are specified in the OGC Compliance Testing Policies and Procedures and the
OGC Compliance Testing web site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="rfc5789"></a> Internet Engineering Task Force (IETF). RFC 5789: <strong>PATCH Method for HTTP</strong> [online]. Edited by L. Dusseault, J. Snell. 2010 [viewed 2021-01-25]. Available at <a href="http://tools.ietf.org/rfc/rfc5789.txt" class="bare">http://tools.ietf.org/rfc/rfc5789.txt</a></p>
</li>
<li>
<p><a id="rfc723x"></a> Internet Engineering Task Force (IETF). RFC 7230 to RFC 7235: <strong>HTTP/1.1</strong> [online]. Edited by R. Fielding, J. Reschke, Y. Lafon, M. Nottingham. 2014 [viewed 2020-04-28]. Available at <a href="http://tools.ietf.org/rfc/rfc7230.txt" class="bare">http://tools.ietf.org/rfc/rfc7230.txt</a>, <a href="http://tools.ietf.org/rfc/rfc7231.txt" class="bare">http://tools.ietf.org/rfc/rfc7231.txt</a>, <a href="http://tools.ietf.org/rfc/rfc7232.txt" class="bare">http://tools.ietf.org/rfc/rfc7232.txt</a>, <a href="http://tools.ietf.org/rfc/rfc7233.txt" class="bare">http://tools.ietf.org/rfc/rfc7233.txt</a>, <a href="http://tools.ietf.org/rfc/rfc7234.txt" class="bare">http://tools.ietf.org/rfc/rfc7234.txt</a>, and <a href="http://tools.ietf.org/rfc/rfc7235.txt" class="bare">http://tools.ietf.org/rfc/rfc7235.txt</a></p>
</li>
<li>
<p><a id="rfc7396"></a> Internet Engineering Task Force (IETF). RFC 7396: <strong>JSON Merge Patch</strong> [online]. Edited by P. Hoffman, J. Snell. 2014 [viewed 2021-01-25]. Available at <a href="http://tools.ietf.org/rfc/rfc7396.txt" class="bare">http://tools.ietf.org/rfc/rfc7396.txt</a></p>
</li>
<li>
<p><a id="OAFeat-1"></a> Open Geospatial Consortium (OGC). <strong>OGC API - Features - Part 1: Core 1.0</strong> [online]. Edited by C. Portele, P. Vretanos, C. Heazel. 2019 [viewed 2020-05-24]. Available at <a href="http://www.opengis.net/doc/IS/ogcapi-features-1/1.0" class="bare">http://www.opengis.net/doc/IS/ogcapi-features-1/1.0</a></p>
</li>
<li>
<p><a id="OAFeat-2"></a> Open Geospatial Consortium (OGC). <strong>OGC API - Features - Part 2: Coordinate Reference Systems by Reference 1.0</strong> [online]. Edited by C. Portele, P. Vretanos. 2020 [viewed 2020-12-03]. Available at <a href="http://docs.opengeospatial.org/is/18-058/18-058.html" class="bare">http://docs.opengeospatial.org/is/18-058/18-058.html</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_definitions_and_abbreviated_terms"><a class="anchor" href="#_terms_definitions_and_abbreviated_terms"></a>4. Terms, definitions and abbreviated terms</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4.1. Terms and Definitions</h3>
<div class="paragraph">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r9], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms, definitions and abbreviated terms apply in addition to those defined in <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>.</p>
</div>
<div class="sect3">
<h4 id="endpoint-def"><a class="anchor" href="#endpoint-def"></a>4.1.1. endpoint</h4>
<div class="paragraph">
<p>a web address (URI) at which access can be gained to a service or resource [from OGC API - Features - Part 3: Filtering and the Common Query Language (CQL)]</p>
</div>
</div>
<div class="sect3">
<h4 id="resources-endpoint-def"><a class="anchor" href="#resources-endpoint-def"></a>4.1.2. resources endpoint</h4>
<div class="paragraph">
<p>endpoint of the set of resource instances from a collection</p>
</div>
<div class="paragraph">
<p>EXAMPLE 1: For features or records, the endpoint is <code>{landingPageUri}/collections/{collectionId}/items</code>.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 2: For processes, the endpoint is <code>{landingPageUri}/processes</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="resource-endpoint-def"><a class="anchor" href="#resource-endpoint-def"></a>4.1.3. resource endpoint</h4>
<div class="paragraph">
<p>endpoint of a specific instance of a resource from a collection</p>
</div>
<div class="paragraph">
<p>EXAMPLE 1: For features, the endpoint is <code>{landingPageUri}/collections/{collectionId}/items/{featureId}</code>.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 2: For processes, the endpoint is <code>{landingPageUri}/processes/{processId}</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions_and_background"><a class="anchor" href="#_conventions_and_background"></a>5. Conventions and background</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_remarks"><a class="anchor" href="#_general_remarks"></a>5.1. General remarks</h3>
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clauses 5 and 6.</p>
</div>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.2. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this standard are denoted by the URI <code><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0</a></code>.</p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sequence_diagrams"><a class="anchor" href="#_sequence_diagrams"></a>5.3. Sequence diagrams</h3>
<div class="paragraph">
<p>This document uses sequence diagrams to illustrate the flow of requests and responses
between client and server.</p>
</div>
<div class="paragraph">
<p>The token <code>&lt;resources endpoint&gt;</code> is used for an endpoint that accesses
resources from a collection.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 1: For features, these endpoints are described by the
URI template <code>{landingPageUri}/collections/{collectionId}/items</code>. See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 2: For processes, these endpoints are described by the
URI template <code>{landingPageUri}/process</code>. See <a href="#OAProc-1">OGC API - Processes - Part 1: Core</a>.</p>
</div>
<div class="paragraph">
<p>The token <code>&lt;resource endpoint&gt;</code> is used for the endpoint that accesses a specific
resource from a collection.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 3: For features, these endpoints are described by the
URI template <code>{landingPageUri}/collections/{collectionId}/items/{featureId}</code>. See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>.</p>
</div>
<div class="paragraph">
<p>EXAMPLE 4: For processes, these endpoints are described by the
URI template <code>{landingPageUri}/process/{processId}</code>. See <a href="#OAProc-1">OGC API - Processes - Part 1: Core</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dependencies_to_other_requirements_classes"><a class="anchor" href="#_dependencies_to_other_requirements_classes"></a>5.4. Dependencies to other requirements classes</h3>
<div class="paragraph">
<p>The requirements classes in this extension distinguish two types of dependencies to other specifications or requirements classes:</p>
</div>
<div class="paragraph">
<p>First, there are the "regular" dependencies. Every server implementing the requirements class has to conform to the referenced specification or requirements class.</p>
</div>
<div class="paragraph">
<p>In addition, requirements classes can also have "conditional dependencies". Servers implementing the requirements class do not have to conform to the referenced specification or requirements class, but if they do, they have to conform to the requirements that identify the conditional dependency as a pre-condition for the normative statement.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-replace-delete_clause"><a class="anchor" href="#create-replace-delete_clause"></a>6. Requirements Class "Create/Replace/Delete"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="create-replace-delete-overview"><a class="anchor" href="#create-replace-delete-overview"></a>6.1. Overview</h3>
<table id="rc_create-replace-delete" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/req/create-replace-delete" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/req/create-replace-delete</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc723x">RFC 7230 to RFC 7235 (HTTP/1.1)</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A server that implements this requirements class provides the ability to add,
replace and remove individual resources from a collection.</p>
</div>
<div class="paragraph">
<p>The HTTP POST method is used to add a new resource instance to a collection.</p>
</div>
<div class="paragraph">
<p>The HTTP PUT method is used to replace an existing resource in a collection
with a replacement resource.</p>
</div>
<div class="paragraph">
<p>Finally, the HTTP DELETE method is used to remove a resource from a collection.</p>
</div>
<div class="paragraph">
<p>Adding or replacing a resource requires that a representation of that resource
be provided by the client.  This standard does not mandate that a specific
specific resource encoding be supported by a server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The use of the HTTP PATCH method is not defined in this requirements class.  The <a href="#rc_update">Update</a> requirements class defines the use of the HTTP PATCH method.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In order to promote interoperability, each standard that extends this standard should make recommendations concerning the representation of resources.  See <a href="#features">Features</a> for a discussion of feature representations.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="http_status_codes"><a class="anchor" href="#http_status_codes"></a>6.1.1. HTTP status codes</h4>
<div class="paragraph">
<p>API clients should be prepared to handle any registered HTTP or HTTPS status code.</p>
</div>
<div class="paragraph">
<p>The <strong>Status Codes</strong> listed in <a href="#status_codes">Table 3</a> are of particular relevance to implementors of this standard. Status codes 200, 201, 202, 204 and 404 are called out in API requirements. Therefore, support for some of these status codes is mandatory for all compliant implementations. The remainder of the status codes in <a href="#status_codes">Table 3</a> are not mandatory, but are important for the implementation of a well functioning API. Support for these status codes is strongly encouraged for both client and server implementations.</p>
</div>
<table id="status_codes" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Typical HTTP status codes<a id="table_2"></a></caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Status code</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>200</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A successful request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>201</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server has been fulfilled the operation and a new resource has been created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>202</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The request has been accepted for processing, but the processing has not been completed. The request might or might not eventually be acted upon, as it might be disallowed when processing actually takes place.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>204</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A successful request with no additional content to send in the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>400</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server cannot or will not process the request due to an apparent client error. For example, a query parameter had an incorrect value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>401</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The request requires user authentication. The response includes a <code>WWW-Authenticate</code> header field containing a challenge applicable to the requested resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>403</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server understood the request, but is refusing to fulfill it. While status code <code>401</code> indicates missing or bad authentication, status code <code>403</code> indicates that authentication is not the issue, but the client is not authorized to perform the requested operation on the resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>404</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The requested resource does not exist on the server. For example, a path parameter had an incorrect value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>405</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The request method is not supported. For example, a POST request was submitted, but the resource only supports GET requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>406</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Content negotiation failed. For example, the <code>Accept</code> header submitted in the request did not support any of the media types supported by the server for the requested resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>413</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server is refusing to process the request because the request content is larger than the server is willing or able to process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>415</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server is refusing to service the request because the content is in a format not supported by this method on the target resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>422</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The server understands the content type of the request content and the syntax of the request content is correct, but was unable to process the contained instructions. For example, the submitted resource does not meet a semantic constraint, e.g. a mandatory property is missing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>500</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">An internal error occurred in the server.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Status code <code>422</code> is not yet an official HTTP status code, but is expected to be added by the <a href="https://www.ietf.org/archive/id/draft-ietf-httpbis-semantics-14.html#name-422-unprocessable-content">draft IETF RFC "HTTP Semantics"</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More specific guidance is provided for each resource, where applicable.</p>
</div>
<table id="per_core_additional-status-codes" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/additional-status-codes</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Servers may support other capabilities of the HTTP protocol and, therefore, may return other status codes than those listed in <a href="#status_codes">Table 3</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The API Description Document describes the HTTP status codes generated by that API. This should not be an exhaustive list of all possible status codes. It is not reasonable to expect an API designer to control the use of HTTP status codes which are not generated by their software. Therefore, it is recommended that the API Description Document limit itself to describing HTTP status codes relevant to the proper operation of the API application logic. Client implementations should be prepared to receive HTTP status codes in addition to those described in the API Description Document.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create"><a class="anchor" href="#create"></a>6.2. Adding a new resource to a collection (CREATE)</h3>
<div class="sect3">
<h4 id="_sequence_diagram"><a class="anchor" href="#_sequence_diagram"></a>6.2.1. Sequence diagram</h4>
<div class="paragraph">
<p>The following diagram illustrates the sequence diagram for adding a new resource
to a collection.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>   Client                                                          Server
     |                                                               |
     |   POST &lt;resources endpoint&gt;   HTTP/1.1                        |
     |   Content-Type: &lt;media type of resource representation&gt;       |
     |                                                               |
     |   ... Body contains representation of the resource ...        |
     |--------------------------------------------------------------&gt;|
     |                                                               |
     |   HTTP/1.1 201 Created                                        |
     |   Location: &lt;resource endpoint&gt;                               |
     |&lt;--------------------------------------------------------------|</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_operation"><a class="anchor" href="#_operation"></a>6.2.2. Operation</h4>
<table id="req_create-replace-delete_insert-post-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/insert-post-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP POST operation at the resources endpoint.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_request_body"><a class="anchor" href="#_request_body"></a>6.2.3. Request body</h4>
<div class="sect4">
<h5 id="_overview"><a class="anchor" href="#_overview"></a>6.2.3.1. Overview</h5>
<table id="rec_create-replace-delete_insert_body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/insert-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of a POST request SHALL contain a representation of the resource to be added to the specified collection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_create-replace-delete_insert-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/create-replace-delete/insert-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A server MAY support any resource encoding in the body of a HTTP POST operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_create-replace-delete_insert-content-type" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/insert-content-type</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A <code>Content-Type</code> header SHALL be used to declare the media type of the request body containing a representation of the resource to be added.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">section 3.1.1.5 of RFC 7231</a> for details.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response"><a class="anchor" href="#_response"></a>6.2.4. Response</h4>
<table id="req_create-replace-delete_insert-response-rid" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/insert-response-rid</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the operation completes successfully, the server SHALL assign a new, unique identifier within the collection for the newly added resource.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_create-replace-delete_insert-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/insert-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>201</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A response with HTTP status code <code>201</code> SHALL include a <code>Location</code> header with the URI of the newly added resource (i.e. path of the resource endpoint).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the operation is not executed immediately, but is added to a processing queue, the response SHALL have a HTTP status code <code>202</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the server will process the create request later, it will return a <code>202</code>. In this
case, the resource creation can succeed or fail, without further notification to the client
about the result or the resource identifier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exceptions"><a class="anchor" href="#_exceptions"></a>6.2.5. Exceptions</h4>
<div class="paragraph">
<p>See <a href="#http_status_codes">HTTP status codes</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="replace"><a class="anchor" href="#replace"></a>6.3. Replacing an existing resource (REPLACE)</h3>
<div class="sect3">
<h4 id="_sequence_diagram_2"><a class="anchor" href="#_sequence_diagram_2"></a>6.3.1. Sequence diagram</h4>
<div class="paragraph">
<p>The following diagram illustrates the sequence diagram for replacing the content
of an existing resource in a collection. The identifier of the resource does not
change.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The new content replaces the old content of the resource; version control is not
discussed in this standard.
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>   Client                                                            Server
     |                                                                 |
     |   PUT &lt;resource end point&gt;   HTTP/1.1                           |
     |   Content-Type: &lt;media type of updated resource representation&gt; |
     |                                                                 |
     |   ... Body contains representation of new resource content ...  |
     |----------------------------------------------------------------&gt;|
     |                                                                 |
     |   HTTP/1.1 204 OK                                               |
     |&lt;----------------------------------------------------------------|</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_operation_2"><a class="anchor" href="#_operation_2"></a>6.3.2. Operation</h4>
<table id="req_create-replace-delete_update-put-put-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/update-put-put-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every resource in a collection, the server SHALL support the HTTP PUT operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_request_body_2"><a class="anchor" href="#_request_body_2"></a>6.3.3. Request body</h4>

</div>
<div class="sect3">
<h4 id="_overview_2"><a class="anchor" href="#_overview_2"></a>6.3.4. Overview</h4>
<table id="rec_create-replace-delete_update-put-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/update-put-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the PUT request SHALL contain a representation of the new resource content.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_create-replace-delete_update_put_body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/create-replace-delete/update/put/body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A server may support any resource encoding in the body of a HTTP PUT operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_create-replace-delete_update-put-content-type" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/update-put-content-type</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>Content-Type</code> header SHALL be used to indicate the media type of the request body containing the representation of the new resource content.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">section 3.1.1.5 of RFC 7231</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_2"><a class="anchor" href="#_response_2"></a>6.3.5. Response</h4>
<table id="req_create-replace-delete_update_put_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/update-put-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code> or <code>204</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the operation is not executed immediately, but is added to a processing queue, the response SHALL have a HTTP status code <code>202</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The status code depends on the server. If the server has updated the resource, the
response is either <code>200</code>, if the response includes additional content, or <code>204</code>,
if the response has no additional content.</p>
</div>
<div class="paragraph">
<p>If the server will process the update request later, it will return a <code>202</code>. In this
case, the processing can succeed or fail, without further notification to the client.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exceptions_2"><a class="anchor" href="#_exceptions_2"></a>6.3.6. Exceptions</h4>
<div class="paragraph">
<p>The assignment of resource identifiers is the pervue of the server and as a
result, clients cannot simply use the HTTP PUT operation to create a new resource.
Instead, the creation of new resource instances have be preformed
using the HTTP POST operation as described in <a href="#create">Adding a new resource to a collection (CREATE)</a>.</p>
</div>
<table id="req_create-replace-delete_update-put-rid-exception" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/update-put-rid-exception</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the target resource does not exist, then the server SHALL indicate an unsuccessful execution of the operation that shall be reported as a response with a HTTP status code <code>404</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also <a href="#http_status_codes">HTTP status codes</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete"><a class="anchor" href="#delete"></a>6.4. Removing a resource from a collection (DELETE)</h3>
<div class="sect3">
<h4 id="_sequence_diagram_3"><a class="anchor" href="#_sequence_diagram_3"></a>6.4.1. Sequence diagram</h4>
<div class="paragraph">
<p>The following diagram illustrates the sequence diagram for removing a resource
from a collection.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>   Client                                                          Server
     |                                                               |
     |   DELETE &lt;resource endpoint&gt;   HTTP/1.1                       |
     +--------------------------------------------------------------&gt;|
     |                                                               |
     |   HTTP/1.1 204 OK                                             |
     +&lt;--------------------------------------------------------------|</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_operation_3"><a class="anchor" href="#_operation_3"></a>6.4.2. Operation</h4>
<table id="req_create-replace-delete_delete_delete-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/delete/delete-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every resource in a collection, the server SHALL support the HTTP DELETE operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_3"><a class="anchor" href="#_response_3"></a>6.4.3. Response</h4>
<table id="req_create-replace-delete_delete_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/create-replace-delete/delete/response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code> or <code>204</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the operation is not executed immediately, but is added to a processing queue, the response SHALL have a HTTP status code <code>202</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the server will process the update request later, it will return a <code>202</code>. In this
case, the processing can succeed or fail, without further notification to the client.</p>
</div>
<div class="paragraph">
<p>Note that if no resource with the identifier exists in the collection, the server can respond
with a success status (<code>200</code> or <code>204</code>) or with a not-found exception (<code>404</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
See <a href="https://github.com/opengeospatial/ogcapi-features/issues/328">Issue 328</a>.
Should it be up to the server whether it responds with a 204 or a 404, if no feature exists?
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_exceptions_3"><a class="anchor" href="#_exceptions_3"></a>6.4.4. Exceptions</h4>
<div class="paragraph">
<p>See <a href="#http_status_codes">HTTP status codes</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update_clause"><a class="anchor" href="#update_clause"></a>7. Requirements Class "Update"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="update-overview"><a class="anchor" href="#update-overview"></a>7.1. Overview</h3>
<table id="rc_update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/req/create-replace-delete/update" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/req/create-replace-delete/update</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc5789">RFC 5789 (PATCH Method for HTTP)</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A server that implements this requirements class provides the ability to use
the HTTP PATCH method to modify parts of an existing resource without the need
to transmit a complete replacement resource.</p>
</div>
<div class="paragraph">
<p>Modifying parts of a resource requires that a document describing the changes to be applied be provided by the client.  This standard does not mandate that a specific encoding for this document be supported by a server.  However, this extension provides requirements for the use of <a href="#rfc7396">RFC 7396 (JSON Merge Patch)</a> for resource encoded using JSON (e.g. GeoJSON).</p>
</div>
</div>
<div class="sect2">
<h3 id="update"><a class="anchor" href="#update"></a>7.2. Modifying an existing resource (UPDATE)</h3>
<div class="sect3">
<h4 id="_sequence_diagram_4"><a class="anchor" href="#_sequence_diagram_4"></a>7.2.1. Sequence diagram</h4>
<div class="paragraph">
<p>The following diagram illustrates the sequence diagram for modifying part
of an existing resource by only specifying the specific parts that should be
updated.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>   Client                                                          Server
     |                                                               |
     |   PATCH &lt;resource endpoint&gt;   HTTP/1.1                        |
     |   Content-Type: &lt;media type of body&gt;                          |
     |                                                               |
     |   ... Body contains a document describing the changes to make |
     |       to parts of the specified resource ...                  |
     |--------------------------------------------------------------&gt;|
     |                                                               |
     |   HTTP/1.1 204 OK                                             |
     |&lt;--------------------------------------------------------------|</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_operation_4"><a class="anchor" href="#_operation_4"></a>7.2.2. Operation</h4>
<table id="req_patch-update_update-patch-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/patch-update/update-patch-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every resource in a collection, the server SHALL support the HTTP PATCH operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_request_body_3"><a class="anchor" href="#_request_body_3"></a>7.2.3. Request body</h4>
<table id="req_patch-update_update-patch-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/patch-update/update-patch-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The request body SHALL contain a document describing the specific parts of the target resource that should be modified by the operation.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Details how a PATCH request body has to be processed by a server depends on the resource representation and have to be specified for each resource type and its representations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_4"><a class="anchor" href="#_response_4"></a>7.2.4. Response</h4>
<table id="req_patch-update_update-patch-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/patch-update/update-patch-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code> or <code>204</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the operation is not executed immediately, but is added to a processing queue, the response SHALL have a HTTP status code <code>202</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The status code depends on the server. If the server has updated the resource, the
response is either <code>200</code>, if the response includes additional content such as the
updated representation of the resource, or <code>204</code>, if the response has no additional content.</p>
</div>
<div class="paragraph">
<p>If the server will process the update request later, it will return a <code>202</code>. In this
case, the processing can succeed or fail, without further notification to the client.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exceptions_4"><a class="anchor" href="#_exceptions_4"></a>7.2.5. Exceptions</h4>
<div class="paragraph">
<p>See <a href="#http_status_codes">HTTP status codes</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="features_clause"><a class="anchor" href="#features_clause"></a>8. Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>8.1. Overview</h3>
<table id="rc_features" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-4/1.0/req/features" class="bare">http://www.opengis.net/spec/ogcapi-features-4/1.0/req/features</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#create-replace-delete_clause">Requirements Class "Create/Replace/Delete"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Core"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "GeoJSON"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#update_clause">Requirements Class "Update"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc7396">RFC 7396 (JSON Merge Patch)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Conditional Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This clause defines requirements for the case when the resource type is a
feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="features-endpoint"><a class="anchor" href="#features-endpoint"></a>8.2. Resources endpoint</h3>
<table id="req_resources-endpoint" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/resources-endpoint</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For features, the resources endpoints SHALL be URIs specified by the URI template <code>{landingPageUri}/collections/{collectionsId}/items</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>landingPageUri</code> SHALL be the URI of the Landing Page resource.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> SHALL be each <code>id</code> property in the <code>collections</code> array of the Collections resource (i.e., the response to a GET request to <code>{landingPageUri}/collections</code>) where the collection has an <code>itemType</code> with no value or a value <code>feature</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="feature-endpoint"><a class="anchor" href="#feature-endpoint"></a>8.3. Resource endpoint</h3>
<table id="req_resource_endpoint" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/resource-endpoint</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For features, the resource endpoints SHALL be URIs specified by the URI template <code>{landingPageUri}/collections/{collectionsId}/items/{featureId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>landingPageUri</code> SHALL be the URI of the Landing Page resource.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> SHALL be each <code>id</code> property in the <code>collections</code> array of the Collections resource (i.e., the response to a GET request to <code>{landingPageUri}/collections</code>) where the collection has an <code>itemType</code> with no value or a value <code>feature</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>featureId</code> SHALL be the <code>id</code> property of a feature obtained by previously having queried the Features resource of the collection (i.e., responses to GET requests to <code>{landingPageUri}/collections/{collectionId}/items</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="feature-crs"><a class="anchor" href="#feature-crs"></a>8.4. Coordinate reference systems (CRS)</h3>
<div class="paragraph">
<p>Unless the server supports <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a>, all geometries have to be submitted in the default CRS.</p>
</div>
<table id="req_features_crs-crs84" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/crs-crs84</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server does not implement <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL interpret all geometries in request bodies of requests to the resources or resource endpoints to be in the coordinate reference system <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84" class="bare">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a> (WGS 84 longitude/latitude) for geometries without height information and <a href="http://www.opengis.net/def/crs/OGC/0/CRS84h" class="bare">http://www.opengis.net/def/crs/OGC/0/CRS84h</a> (WGS 84 longitude/latitude plus ellipsoidal height) for geometries with height information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the request declares that the coordinates are in a different coordinate reference system (e.g., by using the <code>Content-Crs</code> HTTP header with a different CRS identifier or through information in the request body), the server SHALL return an error.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the server supports <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a>, the default CRS can be overridden by declaring the <code>Content-Crs</code> header in the request. Alternatively, if the feature representation supports expressing CRS information for each feature / geometry, the information can also be included in the feature representation.</p>
</div>
<table id="req_features_content-crs-header" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/content-crs-header</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL inspect CREATE, REPLACE and UPDATE requests for the <code>Content-Crs</code> HTTP header and interpret coordinates in the request body to be in the declared CRS.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_default-crs" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/default-crs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The request does not declare that coordinates are in a specific coordinate reference system (by using the <code>Content-Crs</code> HTTP header or through information in the request body).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL interpret all geometries in request bodies of requests to the resources or resource endpoints to be in the coordinate reference system <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84" class="bare">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a> (WGS 84 longitude/latitude) for geometries without height information and <a href="http://www.opengis.net/def/crs/OGC/0/CRS84h" class="bare">http://www.opengis.net/def/crs/OGC/0/CRS84h</a> (WGS 84 longitude/latitude plus ellipsoidal height) for geometries with height information.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_crs-other-crs" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 21</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/crs-other-crs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The request declares that coordinates are in a specific coordinate reference system (by using the <code>Content-Crs</code> HTTP header or through information in the request body).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL interpret all geometries in request bodies of requests to the resources or resource endpoints to be in the coordinate reference system declared in the request.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server does not support the coordinate reference system declared in the request for the feature collection, the server SHALL return an error.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This approach is consistent with the use of WGS84 longitude/latitude as the default CRS for all feature-related requests in the APIs. If both the server and the client are CRS-aware and have the capability to handle geometries in other CRSs, this requirement enables the client to negotiate to some other mutually agreeable CRS.</p>
</div>
<div class="paragraph">
<p>If the server includes the <code>storageCrs</code> property in the Collection resource, as specified in <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a>, then it is recommended that client express all geometry-valued feature properties presented to the server in a request body using the storage CRS. This avoids geometric errors from the conversion of coordinates on the server when storing the geometry.</p>
</div>
<table id="rec_features_crs-storage-crs" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/features/crs-storage-crs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHOULD declare the <code>storageCrs</code> property in each Collection resource for each feature collection that supports CREATE, REPLACE or UPDATE  requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHOULD support all CRSs that are declared in the <code>crs</code> property of the Collection resource for each feature collection that supports CREATE, REPLACE or UPDATE  requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server MAY only support the storage CRS in CREATE, REPLACE or UPDATE requests to avoid coordinate conversion in mutations of feature resources.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
See <a href="https://github.com/opengeospatial/ogcapi-features/issues/505">Issue 505</a>.
This does not provide a clear mechanism how a client can determine all the CRSs that
are supported for a specific request and it may involve some try and error. Adding yet
more information to the Collection resource does not seem to be the right approach.
Use OPTIONS for this?
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="feature-representations"><a class="anchor" href="#feature-representations"></a>8.5. Representation of features</h3>
<div class="paragraph">
<p>Adding or replacing a feature requires that a representation of that feature
be provided by the client. As is the case in Part 1: Core, this standard does not
mandate that a specific feature encoding be supported by a server.</p>
</div>
<div class="paragraph">
<p>However, this standard provides guidance for the feature encodings specified in
Part 1: Core with the exception of HTML.</p>
</div>
<div class="paragraph">
<p>Features in a collection can be constrained to a specific schema, but this does
not have to be the case. This standard recommends that servers that have schema
constraints expose these to clients in the Schema resource at
<code>{landingPageUri}/collections/{collectionId}/schema</code>, so that clients are able to
generate feature representations that are acceptable to the server.
The feature schema can and often will depend in the operation, so a Schema
resource will publish the specific schema representations for the
CREATE, REPLACE and UPDATE operations.</p>
</div>
<table id="rec_features_schema" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/features/schema</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server has schema constraints for features in a collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHOULD support the HTTP GET method at the Schema resource at <code>{landingPageUri}/collections/{collectionId}/schema</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHOULD link to the Schema resource from the Collection resource at <code>{landingPageUri}/collections/{collectionId}</code> with a link relation type <code>describedby</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="feature-geojson"><a class="anchor" href="#feature-geojson"></a>8.5.1. GeoJSON</h4>
<table id="req_features_representation-geojson-create" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-geojson-create</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "GeoJSON"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/geo+json</code> in the API definition for CREATE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=create</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/schema+json</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be a JSON Schema that new features have to validate against to be added to the collection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_representation-geojson-replace" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-geojson-replace</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "GeoJSON"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/geo+json</code> in the API definition for REPLACE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=replace</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/schema+json</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be a JSON Schema that a replacement feature has to validate against.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_representation-geojson-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 24</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-geojson-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "GeoJSON"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#update_clause">Requirements Class "Update"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/merge-patch+json</code> in the API definition for UPDATE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=update</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/schema+json</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be a JSON Schema that a patch update has to validate against.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL process PATCH requests with a content type <code>application/merge-patch+json</code> to such a resource endpoint as specified by <a href="#rfc7396">RFC 7396 (JSON Merge Patch)</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GeoJSON normatively supports WGS84 longitude/latitude, but the
<a href="https://tools.ietf.org/html/rfc7946#section-4">"prior arrangement" provision</a>
allows that other CRSs are used, if both client and server agree on the CRS.
Clients that want to use a CRS that is not the default CRS have to state
the CRS in the POST, PUT or PATCH request using the <code>Content-Crs</code> HTTP header
to invoke the "prior arrangement" provision.</p>
</div>
</div>
<div class="sect3">
<h4 id="feature-gml"><a class="anchor" href="#feature-gml"></a>8.5.2. Geography Markup Language (GML)</h4>
<table id="req_features_representation-gml-create" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-gml-create</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a> or <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/gml+xml</code> in the API definition for CREATE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=create</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/xml</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be an XML Schema that new features have to validate against to be added to the collection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_representation-gml-replace" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-gml-replace</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a> or <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/gml+xml</code> in the API definition for REPLACE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=replace</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/xml</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be an XML Schema that a replacement feature has to validate against.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_features_representation-gml-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 27</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/representation-gml-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a> or <a href="#OAFeat-1">OGC API - Features - Part 1: Core, Requirements Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#update_clause">Requirements Class "Update"</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server advertises support for media type <code>application/xml</code> in the API definition for UPDATE requests for a feature collection <code>collectionId</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server supports the Schema resource for the feature collection at <code>{landingPageUri}/collections/{collectionId}/schema</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET method at <code>{landingPageUri}/collections/{collectionId}/schema?type=update</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><code>200</code>-responses of the server to these requests SHALL support the media type <code>application/xml</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response content SHALL be an XML Schema that a patch update has to validate against.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This standard does not specify the PATCH syntax / semantics that has to be applied for GML feature updates. Two options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>use of the <a href="http://docs.opengeospatial.org/is/09-025r2/09-025r2.html#283">Update action from OGC Web Feature Service 2.0</a>;</p>
</li>
<li>
<p>use of <a href="#rfc5261">RFC 5261 (An Extensible Markup Language (XML) Patch Operations Framework Utilizing XML Path Language (XPath) Selectors)</a>.</p>
</li>
</ul>
</div>
<table id="req_features_gml-srsname" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/features/gml-srsname</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Server implements <a href="#OAFeat-2">OGC API - Features - Part 2: Coordinate Reference Systems by Reference</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A CREATE, REPLACE and UPDATE request has been submitted with a <code>Content-Type</code> HTTP header with a GML media type (<code>application/gml+xml</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL inspect the <code>srsName</code> XML attribute of the element that represents the value of each geometry-valued feature property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a <code>srsName</code> XML attribute is provided, it SHALL override the <code>Content-Type</code> HTTP header.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mediatypes"><a class="anchor" href="#mediatypes"></a>9. Media Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 10.</p>
</div>
<div class="paragraph">
<p>The media types for the CREATE, REPLACE and UPDATE requests as well as for the schema documents depend on the representations of the resources.</p>
</div>
<div class="paragraph">
<p>For GeoJSON features,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CREATE and REPLACE operations will use <code>application/geo+json</code>,</p>
</li>
<li>
<p>UPDATE operations will use <code>application/merge-patch+json</code>,</p>
</li>
<li>
<p>schema documents will use <code>application/schema+json</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For GML features,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CREATE and REPLACE operations will use <code>application/gml+xml</code>,</p>
</li>
<li>
<p>UPDATE operations will use <code>application/xml</code>,</p>
</li>
<li>
<p>schema documents will use <code>application/xml</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_considerations"><a class="anchor" href="#_security_considerations"></a>10. Security Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 11.</p>
</div>
<div class="paragraph">
<p>Since CREATE, REPLACE, DELETE and UPDATE operations will change the resources
and not "just" query them, servers will in almost all cases restrict the
access to these operations.</p>
</div>
<div class="paragraph">
<p>Users making modifications to resources need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>be authenticated,</p>
</li>
<li>
<p>have "modification privileges" on one or more of the resource collections offered by the API,</p>
</li>
<li>
<p>have access to one or more of the POST, PUT, PATCH and/or DELETE methods on the resources / resource endpoints.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The API definition has to reflect this in the resource paths and their available methods.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="ats"><a class="anchor" href="#ats"></a>Annex A: Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Add conformance classes and test cases for all requirements classes and requirements once the requirements are final.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex B: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12%;">
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 46%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-02-17</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">initial version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-06-02</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">reorganize to separate feature-specific aspects in its own requirements class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-09-30</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">OGC code sprint</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-12-13</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">address issues <a href="https://github.com/opengeospatial/ogcapi-features/issues/380">#380</a> and <a href="https://github.com/opengeospatial/ogcapi-features/issues/422">#422</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2021-01-31</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">document review and updates; address issues <a href="https://github.com/opengeospatial/ogcapi-features/issues/292">#292</a> and <a href="https://github.com/opengeospatial/ogcapi-features/issues/476">#476</a></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex C: Bibliography</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="OpenAPI"></a> OpenAPI Initiative (OAI). <strong>OpenAPI Specification 3.0</strong> [online]. 2020 [viewed 2020-03-16]. The latest patch version at the time of publication of this standard was 3.0.3, available at <a href="http://spec.openapis.org/oas/v3.0.3" class="bare">http://spec.openapis.org/oas/v3.0.3</a></p>
</li>
<li>
<p><a id="OGCAPI"></a> Open Geospatial Consortium (OGC). <strong>Welcome To The OGC APIs</strong> [online, viewed 2020-03-16]. Available at <a href="http://www.ogcapi.org/" class="bare">http://www.ogcapi.org/</a></p>
</li>
<li>
<p><a id="OAProc-1"></a> Open Geospatial Consortium (OGC). <strong>OGC API - Processes - Part 1: Core (Editor&#8217;s Draft)</strong> [online]. Edited by B. Pross. 2021 [viewed 2021-01-26]. Available at <a href="https://docs.ogc.org/DRAFTS/18-062.html" class="bare">https://docs.ogc.org/DRAFTS/18-062.html</a></p>
</li>
<li>
<p><a id="rfc5261"></a> Internet Engineering Task Force (IETF). RFC 5261: <strong>An Extensible Markup Language (XML) Patch Operations Framework Utilizing XML Path Language (XPath) Selectors</strong> [online]. Edited by J. Urpalainen. 2008 [viewed 2021-01-25]. Available at <a href="http://tools.ietf.org/rfc/rfc5261.txt" class="bare">http://tools.ietf.org/rfc/rfc5261.txt</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-02-01 17:20:37 +0100
</div>
</div>
</body>
</html>