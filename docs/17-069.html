<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>OGC Web Feature Service 3.0 - Part 1: Core</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #ffffff; }
.listingblock .pygments .tok-c { color: #008800; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { color: #a61717; background-color: #e3d2d2 } /* Error */
.listingblock .pygments .tok-k { color: #000080; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-ch { color: #008800; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #008800; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #008080 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #008800; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #008800; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #008800; font-weight: bold } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #aa0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #999999 } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #555555 } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #aaaaaa } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #aa0000 } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #000080; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #000080; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #000080; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #000080; font-weight: bold } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #000080; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #000080; font-weight: bold } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #0000FF } /* Literal.Number */
.listingblock .pygments .tok-s { color: #0000FF } /* Literal.String */
.listingblock .pygments .tok-na { color: #FF0000 } /* Name.Attribute */
.listingblock .pygments .tok-nt { color: #000080; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-ow { font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #0000FF } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #0000FF } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #0000FF } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #0000FF } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #0000FF } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #0000FF } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #0000FF } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #800080 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #0000FF } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #0000FF } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #0000FF } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #0000FF } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #0000FF } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #0000FF } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #0000FF } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #0000FF } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #0000FF } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #0000FF } /* Literal.String.Symbol */
.listingblock .pygments .tok-il { color: #0000FF } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book">
<div id="header">
<h1>OGC Web Feature Service 3.0 - Part 1: Core</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC&#174; document: <a href="http://www.opengis.net/doc/IS/wfs/3.0" class="bare">http://www.opengis.net/doc/IS/wfs/3.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC&#174; document:    17-069</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: 3.0_SNAPSHOT (2018-02-01)</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC&#174; Implementation Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editor:   Clemens Portele, Panagiotis (Peter) A. Vretanos</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC Web Feature Service 3.0 - Part 1: Core</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright &#169; 2017 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC® Standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:   	Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: 	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and Definitions</a>
<ul class="sectlevel2">
<li><a href="#_dataset">4.1. dataset</a></li>
<li><a href="#_distribution">4.2. distribution</a></li>
<li><a href="#_feature">4.3. feature</a></li>
<li><a href="#_feature_collection">4.4. feature collection</a></li>
</ul>
</li>
<li><a href="#_conventions">5. Conventions</a>
<ul class="sectlevel2">
<li><a href="#_identifiers">5.1. Identifiers</a></li>
<li><a href="#_uml_model">5.2. UML model</a></li>
<li><a href="#_link_relations">5.3. Link relations</a></li>
<li><a href="#_use_of_https">5.4. Use of HTTPS</a></li>
<li><a href="#_api_definition">5.5. API definition</a>
<ul class="sectlevel3">
<li><a href="#_general_remarks">5.5.1. General remarks</a></li>
<li><a href="#_role_of_openapi">5.5.2. Role of OpenAPI</a></li>
<li><a href="#_references_to_openapi_components_in_normative_statements">5.5.3. References to OpenAPI components in normative statements</a></li>
<li><a href="#_paths_in_openapi_definitions">5.5.4. Paths in OpenAPI definitions</a></li>
<li><a href="#_reusable_openapi_components">5.5.5. Reusable OpenAPI components</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_overview">6. Overview</a></li>
<li><a href="#_requirement_class_core">7. Requirement Class "Core"</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">7.1. Overview</a></li>
<li><a href="#_api_definition_2">7.2. API definition</a></li>
<li><a href="#_http_1_1">7.3. HTTP 1.1</a></li>
<li><a href="#_web_caching">7.4. Web caching</a></li>
<li><a href="#_support_for_cross_origin_requests">7.5. Support for cross-origin requests</a></li>
<li><a href="#_encodings_parameter_f">7.6. Encodings / Parameter f</a></li>
<li><a href="#_link_headers">7.7. Link headers</a></li>
<li><a href="#_feature_collection_metadata">7.8. Feature collection metadata</a>
<ul class="sectlevel3">
<li><a href="#_operation">7.8.1. Operation</a></li>
<li><a href="#_response">7.8.2. Response</a></li>
</ul>
</li>
<li><a href="#_feature_collections">7.9. Feature collections</a>
<ul class="sectlevel3">
<li><a href="#_operation_2">7.9.1. Operation</a></li>
<li><a href="#_parameter_startindex">7.9.2. Parameter startIndex</a></li>
<li><a href="#_parameter_count">7.9.3. Parameter count</a></li>
<li><a href="#_parameter_bbox">7.9.4. Parameter bbox</a></li>
<li><a href="#_parameter_resulttype">7.9.5. Parameter resultType</a></li>
<li><a href="#_parameters_for_filtering_on_feature_properties">7.9.6. Parameters for filtering on feature properties</a></li>
<li><a href="#_response_2">7.9.7. Response</a></li>
</ul>
</li>
<li><a href="#_feature_2">7.10. Feature</a>
<ul class="sectlevel3">
<li><a href="#_operation_3">7.10.1. Operation</a></li>
<li><a href="#_response_3">7.10.2. Response</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_requirements_classes_for_encodings">8. Requirements classes for encodings</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">8.1. Overview</a></li>
<li><a href="#_requirement_class_html">8.2. Requirement Class "HTML"</a></li>
<li><a href="#_requirement_class_geojson">8.3. Requirement Class "GeoJSON"</a></li>
<li><a href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_0">8.4. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</a></li>
<li><a href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_2">8.5. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</a></li>
</ul>
</li>
<li><a href="#_requirements_class_openapi_3_0">9. Requirements class "OpenAPI 3.0"</a>
<ul class="sectlevel2">
<li><a href="#_basic_requirements">9.1. Basic requirements</a></li>
<li><a href="#_complete_definition">9.2. Complete definition</a></li>
<li><a href="#exceptions">9.3. Exceptions</a></li>
<li><a href="#security">9.4. Security</a></li>
<li><a href="#_feature_collection_metadata_2">9.5. Feature collection metadata</a></li>
<li><a href="#_feature_collections_2">9.6. Feature collections</a></li>
<li><a href="#_features">9.7. Features</a></li>
</ul>
</li>
<li><a href="#mediatypes">10. Media Types</a></li>
<li><a href="#_conformance_class_abstract_test_suite_normative">Annex A: Conformance Class Abstract Test Suite (Normative)</a></li>
<li><a href="#changes">Annex B: Changes to the previous versions of WFS (Informative)</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">B.1. Overview</a></li>
<li><a href="#_wfs_as_a_restful_service">B.2. WFS as a RESTful service</a></li>
<li><a href="#_mapping_between_ogc_capabilities_and_openapi">B.3. Mapping between OGC Capabilities and OpenAPI</a></li>
<li><a href="#_mapping_between_wfs_2_0_operations_and_wfs_3_0">B.4. Mapping between WFS 2.0 operations and WFS 3.0</a></li>
</ul>
</li>
<li><a href="#oas30_example">Annex C: OpenAPI definition example (Informative)</a></li>
<li><a href="#_revision_history">Annex D: Revision History</a></li>
<li><a href="#Bibliography">Annex E: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>The Web Feature Service (WFS) offers the capability to create, modify and query spatial data on the Web. By default, every WFS provides access to a single dataset. Rather than sharing the data as a complete dataset, WFS offers direct, fine-grained access to the data at the feature (object) level.</p>
</div>
<div class="paragraph">
<p>Consistent with the architecture of the Web, this version of WFS uses a resource architecture and specifies a RESTful service interface consistent with the HTTP/HTTPS standards.</p>
</div>
<div class="paragraph">
<p>WFS is a multi-part standard. This part specifies the core capabilities that every WFS supports. Additional capabilities that address specific needs will be specified in additional parts. Examples include support for updating data, more complex data models or richer queries.</p>
</div>
<div class="paragraph">
<p>This International Standard specifies discovery and query operations.</p>
</div>
<div class="paragraph">
<p>Discovery operations allow the server to be interrogated to determine its capabilities and retrieve information (metadata) about this distribution of the dataset. This includes the API definition of the server as well as metadata about the feature collections provided by the server.</p>
</div>
<div class="paragraph">
<p>Query operations allow features or values of feature properties to be retrieved from the underlying data store based upon constraints, defined by the client, on feature properties.</p>
</div>
<div class="paragraph">
<p>This part of this International Standard defines the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Service definition [1]</p>
</li>
<li>
<p>Feature collections metadata [1]</p>
</li>
<li>
<p>Feature collection [0..n]</p>
</li>
<li>
<p>Feature [0..n]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>ogcdoc, OGC document, web feature service, wfs, feature, property, geographic information, spatial data, spatial things, dataset, distribution, openapi</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p><strong>OGC Declaration</strong></p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong>ISO Declaration</strong></p>
</div>
<div class="paragraph">
<p>ISO (the International Organization for Standardization) is a worldwide federation of national standards bodies (ISO member bodies). The work of preparing International Standards is normally carried out through ISO technical committees. Each member body interested in a subject for which a technical committee has been established has the right to be represented on that committee. International organizations, governmental and non-governmental, in liaison with ISO, also take part in the work. ISO collaborates closely with the International Electrotechnical Commission (IEC) on all matters of electrotechnical standardization.</p>
</div>
<div class="paragraph">
<p>International Standards are drafted in accordance with the rules given in the ISO/IEC Directives, Part 2.</p>
</div>
<div class="paragraph">
<p>The main task of technical committees is to prepare International Standards. Draft International Standards adopted by the technical committees are circulated to the member bodies for voting. Publication as an International Standard requires approval by at least 75 % of the member bodies casting a vote.</p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. ISO shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organizations submitted this Document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CubeWerx Inc.</p>
</li>
<li>
<p>interactive instruments GmbH</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editor or the submitters:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>Name</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>Affiliation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Clemens Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">interactive instruments GmbH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Panagiotis (Peter) A. Vretanos</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">CubeWerx Inc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">&#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This International Standard specifies the behaviour of a server that provides access to features in a dataset in a manner independent of the underlying data store. It specifies discovery and query operations.</p>
</div>
<div class="paragraph">
<p>Discovery operations allow the server to be interrogated to determine its capabilities and retrieve information (metadata) about this distribution of the dataset. This includes the API definition of the server as well as metadata about the feature collections provided by the server.</p>
</div>
<div class="paragraph">
<p>Query operations allow features to be retrieved from the underlying data store based upon simple selection criteria, defined by the client.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines a six requirements and conformance classes.</p>
</div>
<div class="paragraph">
<p>The standardization targets of all conformance classes are "web services".</p>
</div>
<div class="paragraph">
<p>The main requirements class is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_core">Core</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It specifies requirements that all WFS have to meet.</p>
</div>
<div class="paragraph">
<p>The "Core" does not mandate any encoding or format for representing features or
feature collections. Four requirements classes depend on the "Core"
and specify representations for these resources in commonly used encodings
for spatial data on the web:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_html">HTML</a>,</p>
</li>
<li>
<p><a href="#rc_geojson">GeoJSON</a>,</p>
</li>
<li>
<p><a href="#rc_gmlsf0">Geography Markup Language (GML), Simple Features Profile, Level 0</a>, and</p>
</li>
<li>
<p><a href="#rc_gmlsf2">Geography Markup Language (GML), Simple Features Profile, Level 2</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>None of these encodings is mandatory and an implementation of the "Core"
requirements class may also decide to use none of them, but to use another encoding
instead.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/24">ISSUE 24</a><br>
Move XML output to extension.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/25">ISSUE 25</a><br>
Pick a recommended encoding.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The "Core" does not mandate any encoding or format for the formal definition of
the API either. One option is the OpenAPI 3.0 specification and a requirements
class has been defined for this, which depends on the "Core":</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_oas30">OpenAPI specification 3.0</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Like with the feature encodings, an implementation of the "Core" requirements
class may also decide to use other representations of the API definition in
addition or instead of an OpenAPI 3.0 definition. Examples for alternative
API definitions: OpenAPI 2.0 (Swagger), future versions of the OpenAPI
specification or an OWS Common 2.0 capabilities document.</p>
</div>
<div class="paragraph">
<p>The "Core" is intended to be the minimal useful service interface for fine-grained
access to a spatial dataset.</p>
</div>
<div class="paragraph">
<p>Additional capabilities, for example, support for transactions, complex data
structures, rich queries, other coordinate reference systems,
subscription/notification, returning aggregated results, etc., may be
specified in future parts of WFS or as vendor-specific extensions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The general idea is that it should be possible to implement a single API
(e.g., have a single OpenAPI definition) that at the same time conforms to conformance classes from WFS 3.0 and from other OGC Web Service standards following a similar approach. In other words, the idea is not
to define standalone services, but more to define "building blocks" for
data APIs that supports spatial aspects.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests
specified in Annex A (normative) of this document. The framework, concepts, and
methodology for testing, and the criteria to be achieved to claim conformance
are specified in the OGC Compliance Testing Policies and Procedures and the
OGC Compliance Testing web site.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/9">ISSUE 9</a><br>
Include a list of conformance classes met by the server somewhere? In the
OpenAPI document or in the root resource?
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="OpenAPI"></a> Open API Initiative: OpenAPI Specification 3.0.1,
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md" class="bare">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md</a></p>
</li>
<li>
<p><a id="rfc2616"></a> IETF: HTTP/1.1, RFC 2616, <a href="http://tools.ietf.org/rfc/rfc2616.txt" class="bare">http://tools.ietf.org/rfc/rfc2616.txt</a></p>
</li>
<li>
<p><a id="rfc5988"></a> IETF: Web Linking, RFC 5988, <a href="http://tools.ietf.org/rfc/rfc5988.txt" class="bare">http://tools.ietf.org/rfc/rfc5988.txt</a></p>
</li>
<li>
<p><a id="GMLSF"></a> van den Brink, L., Portele, C., Vretanos, P.: OGC 10-100r3,
Geography Markup Language (GML) Simple Features Profile, <a href="http://portal.opengeospatial.org/files/?artifact_id=42729" class="bare">http://portal.opengeospatial.org/files/?artifact_id=42729</a></p>
</li>
<li>
<p><a id="GeoJSON"></a> Butler, H., Daly, M., Doyle, A., Gillies, S., Hagen, S., Schaub, T.:
IETF RFC 7946, The GeoJSON Format, <a href="https://tools.ietf.org/rfc/rfc7946.txt" class="bare">https://tools.ietf.org/rfc/rfc7946.txt</a></p>
</li>
<li>
<p><a id="HTML5"></a> W3C: HTML5, W3C Recommendation, <a href="http://www.w3.org/TR/html5/" class="bare">http://www.w3.org/TR/html5/</a></p>
</li>
<li>
<p><a id="schema.org"></a> Schema.org: <a href="http://schema.org/docs/schemas.html" class="bare">http://schema.org/docs/schemas.html</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r8], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
</div>
<div class="sect2">
<h3 id="_dataset"><a class="anchor" href="#_dataset"></a>4.1. dataset</h3>
<div class="paragraph">
<p>collection of data, published or curated by a single agent, and available for access or download in one or more formats [DCAT]</p>
</div>
</div>
<div class="sect2">
<h3 id="_distribution"><a class="anchor" href="#_distribution"></a>4.2. distribution</h3>
<div class="paragraph">
<p>represents an accessible form of a <strong>dataset</strong> [DCAT]</p>
</div>
<div class="paragraph">
<p>EXAMPLE: a downloadable file, an RSS feed or a web service that provides the data.</p>
</div>
</div>
<div class="sect2">
<h3 id="_feature"><a class="anchor" href="#_feature"></a>4.3. feature</h3>
<div class="paragraph">
<p>abstraction of real world phenomena [ISO 19101:2002, definition 4.11]</p>
</div>
</div>
<div class="sect2">
<h3 id="_feature_collection"><a class="anchor" href="#_feature_collection"></a>4.4. feature collection</h3>
<div class="paragraph">
<p>a set of <strong>features</strong> from a <strong>dataset</strong></p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/4">ISSUE 4</a><br>
We need to make the document understandable to the developers that have no
geo/OGC background, too. What do we need to explain in this section and what
terms should we use in general?
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions"><a class="anchor" href="#_conventions"></a>5. Conventions</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This sections provides details and examples for any conventions used in the document. Examples of conventions are symbols, abbreviations, use of XML schema, or special notes regarding how to read the document.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.1. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this specification are denoted by the URI <code><a href="http://www.opengis.net/spec/wfs-1/3.0" class="bare">http://www.opengis.net/spec/wfs-1/3.0</a></code>.</p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
<div class="sect2">
<h3 id="_uml_model"><a class="anchor" href="#_uml_model"></a>5.2. UML model</h3>
<div class="paragraph">
<p>UML diagrams are included in this standard to illustrate the conceptual model that underpins Web Feature Service implementations. The UML model is not normative. The UML profile used is specified in ISO 19103:2015.</p>
</div>
<div class="paragraph">
<p>Resources are modelled as UML interfaces.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The OpenAPI definition is not modelled explicitly.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/36">ISSUE 36</a><br>
A draft UML for OpenAPI 3.0 is available and could be reused.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_link_relations"><a class="anchor" href="#_link_relations"></a>5.3. Link relations</h3>
<div class="paragraph">
<p>To express relationships between resources, <a href="#rfc5988">RFC 5988 (Web Linking)</a> and <a href="#link-relations">registered link relation types</a> are used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_use_of_https"><a class="anchor" href="#_use_of_https"></a>5.4. Use of HTTPS</h3>
<div class="paragraph">
<p>For simplicity, this document in general only refers to the HTTP protocol. This is not meant to exclude the use of HTTPS and simply a shorthand notation for "HTTP or HTTPS". In fact, most WFS are expected to use HTTPS, not HTTP.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_definition"><a class="anchor" href="#_api_definition"></a>5.5. API definition</h3>
<div class="sect3">
<h4 id="_general_remarks"><a class="anchor" href="#_general_remarks"></a>5.5.1. General remarks</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add general considerations.<br>
Clarify that additional operations, parameters, etc. may be added, either to implement additional conformance classes or for vendor-specific extensions.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_role_of_openapi"><a class="anchor" href="#_role_of_openapi"></a>5.5.2. Role of OpenAPI</h4>
<div class="paragraph">
<p>This document uses OpenAPI 3.0 fragments as examples and to formally state
requirements. However, using OpenAPI 3.0 is not required.</p>
</div>
<div class="paragraph">
<p>The "Core" requirements class, therefore, only requires that a formal API
definition is provided at /api.</p>
</div>
<div class="paragraph">
<p>A separate requirements class is specified for API definitions that follow the
<a href="#rc_oas">OpenAPI specification 3.0</a>, but this does not preclude that in the
future or in parallel other versions of OpenAPI or other descriptions are
provided by a server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This approach is used to avoid lock-in to a specific approach to
defining an API as it is expected that the landscape will continue to
evolve.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this document, fragments of OpenAPI definitions are shown in YAML since
YAML is easier to read than JSON and is typically used in OpenAPI editors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_references_to_openapi_components_in_normative_statements"><a class="anchor" href="#_references_to_openapi_components_in_normative_statements"></a>5.5.3. References to OpenAPI components in normative statements</h4>
<div class="paragraph">
<p>Some normative statements (requirements, recommendations and permissions) use
a phrase that a component in the API definition of the server must be
"based upon" a schema or parameter component in the OGC schema repository.</p>
</div>
<div class="paragraph">
<p>In this case, the following changes to the pre-defined OpenAPI component
are permitted:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the OpenAPI schema component contains an <code>xml</code> property, but XML is not
an encoding that is supported by the service, the xml properties may be removed.</p>
</li>
<li>
<p>The range of values of a parameter or property may be extended (additional
values) or constrained (if only a subset of all possible values are applicable
to the service). An example for a constrained range of values is to explicitly
specify the supported values of a string parameter or property using an enum.</p>
</li>
<li>
<p>Additional properties may be added to the schema definition of a Response Object.</p>
</li>
<li>
<p>Informative text may be changed or added, like comments or description properties.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Check, that we cover all cases.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For API definitions that do not conform to the <a href="#rc_oas30">OpenAPI Specification 3.0</a>
the normative statement should be interpreted in the context of the
API definition language used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_paths_in_openapi_definitions"><a class="anchor" href="#_paths_in_openapi_definitions"></a>5.5.4. Paths in OpenAPI definitions</h4>
<div class="paragraph">
<p>All paths in an OpenAPI definition are relative to a base URL of the server.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. URL of the OpenAPI definition</div>
<div class="content">
<div class="paragraph">
<p>If the OpenAPI Server Object would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>servers:
  - url: https://dev.example.org/
    description: Development server
  - url: https://data.example.org/
    description: Production server</code></pre>
</div>
</div>
<div class="paragraph">
<p>The path "/mypath" in the OpenAPI definition of a WFS would be the
URL <code><a href="https://data.example.org/mypath" class="bare">https://data.example.org/mypath</a></code> for the production server.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reusable_openapi_components"><a class="anchor" href="#_reusable_openapi_components"></a>5.5.5. Reusable OpenAPI components</h4>
<div class="paragraph">
<p>Reusable components for OpenAPI definitions of a WFS are referenced from
this document.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For now, these components use a base URL of
"https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/",
but eventually these will be available using the base URL
"http://schemas.opengis.net/wfs/3.0/openapi/".
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>6. Overview</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
This includes also a discussion about the approach regarding OpenAPI and hypermedia controls.<br>
Changes to previous versions of WFS are discussed in <a href="#changes">Annex B</a>.<br>
Use of a simple example throughout the document - a WFS with a single feature collection (buildings) and three encodings GeoJSON, GML-SF0, HTML.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This standard does not mandate any encoding or format for representing features or
feature collections. In addition to HTML as the standard encoding for Web content,
rules for commonly used encodings for spatial data on the web are provided
(GeoJSON, GML).</p>
</div>
<div class="paragraph">
<p>None of these encodings is mandatory and an implementation of the "Core"
requirements class may also decide to use none of them, but to use another encoding
instead.</p>
</div>
<div class="paragraph">
<p>This part of WFS 3.0 does not provide any guidance on other encodings. The
supported encodings, or more precisely the media types of the supported encodings,
can be determined from the API definition. The desired encoding is selected
using HTTP content negotiation.</p>
</div>
<div class="paragraph">
<p>For example, if the server supports
<a href="https://tools.ietf.org/html/rfc8142">GeoJSON Text Sequences</a>,
an encoding that is based on JSON text sequences and GeoJSON to support streaming
by making the the data incrementally parseable, the media type <code>application/geo+json-seq</code>
would be used.</p>
</div>
<div class="paragraph">
<p>In addition, HTTP supports compression and the standard HTTP mechanisms can be
used to reduce the size of the messages between the server and the client.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirement_class_core"><a class="anchor" href="#_requirement_class_core"></a>7. Requirement Class "Core"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>7.1. Overview</h3>
<table id="rc_core" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/core" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc5988">RFC 5988 (Web Linking)</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Figure 1 illustrates the resources supported by the Core requirements class using
UML. Each resource type available through the server is an «interface».</p>
</div>
<div class="paragraph">
<p>A server that implements the WFS API provides access to the features in a dataset.
In other words, the API is a distribution of that dataset. A file download, for example,
would be another distribution.</p>
</div>
<div class="paragraph">
<p>That is, each WFS has a single <code>DatasetDistribution</code> and the distribution
consists of a set of feature collections. This specification does not
include any requirements how the features in the dataset have to be aggregated
into collections. A typical approach is to aggregate by feature type, but any other approach
that fits the dataset or the applications using this distribution may be used, too.</p>
</div>
<div class="paragraph">
<p>Accessing the <code>DatasetDistribution</code> using HTTP GET returns a
<code>DatasetDistributionResponse</code>, which includes a link to each <code>Collection</code>
in the distribution along with metadata about each collection (class
<code>CollectionMetadata</code>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a local identifier for the collection that is unique within the WFS;</p>
</li>
<li>
<p>a list of coordinate reference systems in which geometries may be returned by
the server, where the first one is the default coordinate reference system
(in the Core, the default is always WGS 84 with axis order longitude/latitude);</p>
</li>
<li>
<p>an optional title and description for the collection;</p>
</li>
<li>
<p>an optional bounding box that can be used to provide an indication of the
spatial extent of the collection - typically derived from the data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each <code>Collection</code> consists of the features in the collection where each
feature in the distribution is part of exactly one collection.</p>
</div>
<div class="paragraph">
<p>Accessing a <code>Collection</code> using HTTP GET returns a <code>CollectionResponse</code>,
which basically consists of features in the collection. The features included
in the response are determined by the server based on parameters of the request.</p>
</div>
<div class="paragraph">
<p>A <code>bbox</code> parameter may be used to select only a subset of the features in
the collection (the features that are located in the bounding box).</p>
</div>
<div class="paragraph">
<p>The <code>startIndex</code> and <code>count</code> parameters may be used to request only a subset of the
selected features and to support paging through a collection.</p>
</div>
<div class="paragraph">
<p>The <code>CollectionResponse</code> may include metadata about the number of selected and returned
features (<code>numberMatched</code> and <code>numberReturned</code>) as well as links to simplify
paging (<code>next</code> and <code>prev</code>).</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/23">ISSUE 23</a><br>
Improve paging (startIndex, prev).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the <code>resultType</code> parameter is provided with a value "hits", the server will
return no features, but only the number of selected features in <code>numberMatched</code>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/22">ISSUE 22</a><br>
Remove 'resultType' from core and put in an extension.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each <code>Feature</code> is also a separate resource and may be requested individually
using HTTP GET.</p>
</div>
<div class="paragraph">
<p>In addition, each server publishes a formal definition of the API (<code>APIDefinition</code>),
which describes the capabilities of the server and which can be used by
clients to connect to the server or
by development tools to support the implementation of servers and clients.</p>
</div>
<div id="img_core" class="imageblock" style="text-align: center">
<div class="content">
<img src="figures/PT1_FIG01.png" alt="PT1 FIG01">
</div>
<div class="title">Figure 1. Resources in the Core requirements class</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/30">ISSUE 30</a><br>
Allow also features that do not belong to any collection?
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_api_definition_2"><a class="anchor" href="#_api_definition_2"></a>7.2. API definition</h3>
<div class="paragraph">
<p>Every WFS is defined by an API definition that describes the capabilities
of the server and which can be used by clients to connect to the server or
by development tools to support the implementation of servers and clients.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/api-definition<br></p>
</div>
<div class="paragraph">
<p>The service SHALL provide an API definition document at the path "/api".</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/api-definition-oas<br></p>
</div>
<div class="paragraph">
<p>If the API definition document uses the OpenAPI Specification 3.0,
the document SHOULD conform to the
<a href="#rc_oas30">OpenAPI Specification 3.0 requirements class</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If multiple API definition formats are supported by a server, use
content negotiation to select the desired representation.</p>
</div>
<div class="paragraph">
<p>The API definition document is the "landing page" point" for the API. I.e.,
there is no need to include the <code>/api</code> operation in the API definition itself.</p>
</div>
</div>
<div class="sect2">
<h3 id="_http_1_1"><a class="anchor" href="#_http_1_1"></a>7.3. HTTP 1.1</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/http<br></p>
</div>
<div class="paragraph">
<p>The server SHALL conform to <a href="#rfc2616">HTTP 1.1</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This includes the correct use of status codes, headers, etc.</p>
</div>
</div>
<div class="sect2">
<h3 id="_web_caching"><a class="anchor" href="#_web_caching"></a>7.4. Web caching</h3>
<div class="paragraph">
<p>Entity tags are a mechanism for web cache validation and for supporting conditional
requests to reduce network traffic. Entity tags are specified by <a href="#rfc2616">HTTP/1.1 (RFC 2616)</a>.</p>
</div>
<table id="rec_etag" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/etag<br></p>
</div>
<div class="paragraph">
<p>The service SHOULD support entity tags and the associated headers as
specified by HTTP/1.1.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add an example OpenAPI operation (headers, response codes). Here or in clause 9.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_support_for_cross_origin_requests"><a class="anchor" href="#_support_for_cross_origin_requests"></a>7.5. Support for cross-origin requests</h3>
<div class="paragraph">
<p>To access data from a HTML page where the data is on another host than
the webpage is by default prohibited for security reasons ("same-origin policy").
A typical example is a web-application accessing feature data from
multiple distributed datasets.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 3</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/cross-origin<br></p>
</div>
<div class="paragraph">
<p>If the server is intended to be accessed from the browser, cross-origin
requests SHOULD be supported. Note that support can also be added in a
proxy layer on top of the server.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Two common mechanisms to support cross-origin requests are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-origin resource sharing (CORS)</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/JSONP">JSONP (JSON with padding)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_encodings_parameter_f"><a class="anchor" href="#_encodings_parameter_f"></a>7.6. Encodings / Parameter f</h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/12">ISSUE 12</a><br>
Proposal to drop f and define separate operations using file extensions
instead, i.e. <code>/buildings</code>, <code>/buildings.json</code>, <code>/buildings.xml</code> and
<code>/buildings.html</code>. This is clearer and avoids a conflict with content
negotiation.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/param-f<br></p>
</div>
<div class="paragraph">
<p>All operations SHALL support a parameter <code>f</code> with the following
characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>in: query
required: false
style: form
explode: false
schema:
  type: string</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/param-f-values<br></p>
</div>
<div class="paragraph">
<p>The API definition SHALL enumerate the list of values of parameter <code>f</code>
supported by the server.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 2. Values for the <code>f</code> parameter in an OpenAPI definition</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>schema:
  type: string
  enum:
    - json
    - xml
    - html</code></pre>
</div>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/param-f-predef<br></p>
</div>
<div class="paragraph">
<p>The parameter <code>f</code> SHALL determine the format of the response. If no value is
provided, the standard HTTP rules SHALL apply, i.e., the accept header is
used to determine the format.</p>
</div>
<div class="paragraph">
<p><code>json</code> / <code>xml</code> / <code>html</code> are reserved values and SHALL return the first
JSON / XML / HTML media type listed in the API definition. If no such
media type is included in the API definition, the service MAY determine
the format of the response or respond with HTTP status code <code>415</code>.</p>
</div>
<div class="paragraph">
<p>If other values are provided, the service MAY determine the format of the response.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#encodings">Encodings</a> for requirements classes for some formats.</p>
</div>
<div class="paragraph">
<p>See <a href="#mediatypes">Media Types</a> for guidance on media types.</p>
</div>
<table id="rec_html" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 4</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/html<br></p>
</div>
<div class="paragraph">
<p>To support browsing a WFS with a web browser and to enable search engines to crawl
and index a dataset, implementations SHOULD consider to support an HTML encoding.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A template for the definition of the parameter <code>f</code> in YAML according to OpenAPI 3.0 is available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/parameters/f.yaml">f.yaml</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_link_headers"><a class="anchor" href="#_link_headers"></a>7.7. Link headers</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 5</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/link-header<br></p>
</div>
<div class="paragraph">
<p>Links included in payload of responses SHOULD also be included
as <code>Link</code> headers in the HTTP response according to <a href="#rfc5988">RFC 5988, Clause 5</a>.</p>
</div>
<div class="paragraph">
<p>This recommendation does not apply, if there are a large number of links
included in a response or a link is not known when the HTTP headers of the
response are created.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_feature_collection_metadata"><a class="anchor" href="#_feature_collection_metadata"></a>7.8. Feature collection metadata</h3>
<div class="sect3">
<h4 id="_operation"><a class="anchor" href="#_operation"></a>7.8.1. Operation</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-op<br></p>
</div>
<div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path <code>/</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response"><a class="anchor" href="#_response"></a>7.8.2. Response</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-success<br></p>
</div>
<div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a
HTTP status code <code>200</code>.</p>
</div>
<div class="paragraph">
<p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/content.yaml">content.yaml</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>That schema supports both JSON and XML responses:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/content.yaml">Schema for the metadata about feature collections</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>type: object
required:
  - collections
xml:
  name: Collections
  namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
  prefix: wfs
properties:
  links:
    type: array
    items:
      $ref: link.yaml
  collections:
    type: array
    items:
      type: object
      required:
        - name
        - links
      properties:
        name:
          type: string
        title:
          type: string
        description:
          type: string
        links:
          type: array
          items:
            $ref: link.yaml
        extent:
          $ref: bbox.yaml
        crs:
          description: the list of coordinate reference systems supported by the service; the first item is the default coordinate reference system
          type: array
          items:
            type: string
          default:
            - http://www.opengis.net/def/crs/OGC/1.3/CRS84
      $ref: https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/collectionInfo.yaml
    xml:
      namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
      prefix: wfs</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-links<br></p>
</div>
<div class="paragraph">
<p>A "200"-response SHALL include the following links in the <code>links</code> property
of the response:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this response document (relation: <code>self</code>),</p>
</li>
<li>
<p>a link to the response document in every other media type supported by
the server (relation: <code>alternate</code>),</p>
</li>
<li>
<p>links to each feature collection resource in this distribution of the
dataset for each supported encoding (relation: <code>item</code>), and</p>
</li>
<li>
<p>links to the API definition document in each supported encoding
(relation: <code>service</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All links SHALL include the <code>rel</code> and <code>type</code> link parameters.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="fc_md_descriptions" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 6</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/fc-md-descriptions<br></p>
</div>
<div class="paragraph">
<p>If external schemas or descriptions for the dataset exist that provide
information about the structure or semantics of the data, a "200"-response
SHOULD include links to each of those resources in the <code>links</code> property
of the response (relation: <code>describedBy</code>).</p>
</div>
<div class="paragraph">
<p>The <code>type</code> link parameter SHOULD be provided for each link.</p>
</div>
<div class="paragraph">
<p>This applies to resources that describe to the whole dataset. For
resources that describe the contents of a feature collection, the
links SHOULD be set in the <code>links</code> property of the appropriate
object in the <code>collections</code> resource.</p>
</div>
<div class="paragraph">
<p>Examples for descriptions are: XML Schema, Schematron, JSON Schema,
RDF Schema, OWL, SHACL, a feature catalogue, etc.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add recommendation about a link to the distribution resource in the dataset
metadata (example in DCAT). Which link relation type?
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-items<br></p>
</div>
<div class="paragraph">
<p>For each feature collection in this distribution of the dataset, an item SHALL
be provided in the property <code>collections</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-links<br></p>
</div>
<div class="paragraph">
<p>For each feature collection in this distribution of the dataset,
the <code>links</code> property SHALL include an item for each supported encoding
with a link to the collection resource (relation: <code>item</code>).</p>
</div>
<div class="paragraph">
<p>All links SHALL include the <code>rel</code> and <code>type</code> properties.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Check, if we can/should make use of the new
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#linkObject">Link Object</a>
in OpenAPI 3.0.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-md-extent<br></p>
</div>
<div class="paragraph">
<p>For each feature collection, the <code>extent</code> property, if provided, SHALL be a bounding box that includes all feature geometries in this collection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title"><a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/collectionInfo.yaml">Schema for the metadata about a feature collection</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
  - collectionId
  - links
properties:
  collectionId:
    description: identifier of the collection used, for example, in URIs
    type: string
  title:
    description: human readable title of the collection
    type: string
  description:
    description: a description of the features in the collection
    type: string
  links:
    type: array
    items:
      $ref: https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/link.yaml
  extent:
    $ref: https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/bbox.yaml
  crs:
    description: the list of coordinate reference systems supported by the service; the first item is the default coordinate reference system
    type: array
    items:
      type: string
    default:
      - http://www.opengis.net/def/crs/OGC/1.3/CRS84</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>crs</code> property is not used by this conformance class, but reserved for future use.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 3. Feature collection metadata response document</div>
<div class="content">
<div class="paragraph">
<p>This feature collection metadata example response in JSON is for a dataset with
a single collection "buildings". It includes links to the collection resource in all formats that
are supported by the service (<a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">link relation type</a>: "item").</p>
</div>
<div class="paragraph">
<p>Representations of the metadata resource in other formats are referenced using <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">link relation type</a> "alternate".</p>
</div>
<div class="paragraph">
<p>Additional links to a GML application schema for the building data and to
a web page that has additional information about buildings are provided, too, using <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">link relation type</a> "describedBy".</p>
</div>
<div class="paragraph">
<p>Coordinate reference system information is not provided as the service provides
geometries only in the default system (WGS84 longitude/latitude).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>{
  &quot;links&quot;: [
    { &quot;href&quot;: &quot;http://data.example.org/?f=json&quot;,
      &quot;rel&quot;: &quot;self&quot;, &quot;type&quot;: &quot;application/json&quot;, &quot;title&quot;: &quot;this document&quot; },
    { &quot;href&quot;: &quot;http://data.example.org/?f=xml&quot;,
      &quot;rel&quot;: &quot;alternate&quot;, &quot;type&quot;: &quot;application/xml&quot;, &quot;title&quot;: &quot;this document as XML&quot; },
    { &quot;href&quot;: &quot;http://data.example.org/?f=html&quot;,
      &quot;rel&quot;: &quot;alternate&quot;, &quot;type&quot;: &quot;text/html&quot;, &quot;title&quot;: &quot;this document as HTML&quot; },
    { &quot;href&quot;: &quot;http://data.example.org/api?f=json&quot;,
      &quot;rel&quot;: &quot;service&quot;, &quot;type&quot;: &quot;application/openapi+json;version=3.0&quot;, &quot;title&quot;: &quot;the OpenAPI definition as JSON&quot; },
    { &quot;href&quot;: &quot;http://data.example.org/api?f=html&quot;,
      &quot;rel&quot;: &quot;service&quot;, &quot;type&quot;: &quot;text/html&quot;, &quot;title&quot;: &quot;the OpenAPI definition as HTML&quot; },
    { &quot;href&quot;: &quot;http://catalog.example.org/datasets/buildings#wfs&quot;,
      &quot;rel&quot;: &quot;???&quot;, &quot;type&quot;: &quot;application/json+ld&quot; }
  ],
  &quot;collections&quot;: [
    {
      &quot;collectionId&quot;: &quot;buildings&quot;,
      &quot;title&quot;: &quot;Buildings&quot;,
      &quot;description&quot;: &quot;Buildings in the city of Bonn.&quot;,
      &quot;extent&quot;: {
        &quot;bbox&quot;: [ 7.01, 50.63, 7.22, 50.78 ]
      },
      &quot;links&quot;: [
        { &quot;href&quot;: &quot;http://data.example.org/buildings?f=json&quot;,
          &quot;rel&quot;: &quot;about&quot;, &quot;type&quot;: &quot;application/geo+json&quot;,
          &quot;title&quot;: &quot;Buildings as GeoJSON&quot; },
        { &quot;href&quot;: &quot;http://data.example.org/buildings?f=xml&quot;,
          &quot;rel&quot;: &quot;about&quot;, &quot;type&quot;: &quot;application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf0&quot;,
          &quot;title&quot;: &quot;Buildings as GML&quot; },
        { &quot;href&quot;: &quot;http://data.example.org/buildings?f=html&quot;,
          &quot;rel&quot;: &quot;about&quot;, &quot;type&quot;: &quot;text/html&quot;,
          &quot;title&quot;: &quot;Buildings as HTML&quot; },
        { &quot;href&quot;: &quot;http://example.org/concepts/building.html&quot;,
          &quot;rel&quot;: &quot;describedBy&quot;, &quot;type&quot;: &quot;text/html&quot;,
          &quot;title&quot;: &quot;Feature catalogue for the buildings&quot; },
        { &quot;href&quot;: &quot;http://example.org/schemas/buildings.xsd&quot;,
          &quot;rel&quot;: &quot;describedBy&quot;, &quot;type&quot;: &quot;application/xml&quot;,
          &quot;title&quot;: &quot;XML schema of the buildings&quot; }
      ]
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_feature_collections"><a class="anchor" href="#_feature_collections"></a>7.9. Feature collections</h3>
<div class="sect3">
<h4 id="_operation_2"><a class="anchor" href="#_operation_2"></a>7.9.1. Operation</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-op<br>
<br></p>
</div>
<div class="paragraph">
<p>For every feature collection identified in the metadata about the feature collection (path "/"),
the server SHALL support the HTTP GET operation at the path <code>/{collectionId}</code>.</p>
</div>
<div class="paragraph">
<p><code>collectionId</code> is the property of the same name in the feature collection metadata.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/17">ISSUE 17</a><br>
Precision level filter responsibility?
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_startindex"><a class="anchor" href="#_parameter_startindex"></a>7.9.2. Parameter startIndex</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-startIndex-definition<br></p>
</div>
<div class="paragraph">
<p>Each feature collection operation SHALL support a parameter <code>startIndex</code>
with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: startIndex
in: query
required: false
schema:
  type: integer
  minimum: 0
  default: 0
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-startIndex-response<br></p>
</div>
<div class="paragraph">
<p>The optional <code>startIndex</code> parameter identifies the index within the result
set from which the server SHALL begin presenting results in the
response. The first element has an index of 0.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A template for the definition of the parameter in YAML according to
OpenAPI 3.0 is available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/parameters/startIndex.yaml">startIndex.yaml</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_count"><a class="anchor" href="#_parameter_count"></a>7.9.3. Parameter count</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-count-definition<br></p>
</div>
<div class="paragraph">
<p>Each feature collection operation SHALL support a parameter <code>count</code>
with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: count
in: query
required: false
schema:
  type: integer
  minimum: 1
  maximum: 10000
  default: 10
style: form
explode: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>The values for <code>maximum</code> and <code>default</code> are only examples and MAY be changed.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-count-response<br></p>
</div>
<div class="paragraph">
<p>The optional <code>count</code> parameter SHALL limit the number of items
that are presented in the response.</p>
</div>
<div class="paragraph">
<p>Only items are counted that are on the first level of the collection in the
response. Any nested objects contained within the explicitly requested items
SHALL not be counted.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A template for the definition of the parameter in YAML according to
OpenAPI 3.0 is available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/parameters/count.yaml">count.yaml</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_bbox"><a class="anchor" href="#_parameter_bbox"></a>7.9.4. Parameter bbox</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-bbox-definition<br></p>
</div>
<div class="paragraph">
<p>Each feature collection operation SHALL support a parameter <code>bbox</code>
with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: bbox
in: query
required: false
schema:
  type: array
  items:
    type: number
    minItems: 4
    maxItems: 4
    minimum: -180
    maximum: 180
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-bbox-response<br></p>
</div>
<div class="paragraph">
<p>Only features that have a geometry that intersects the bounding box SHALL be
part of the result set, if the <code>bbox</code> parameter is provided.</p>
</div>
<div class="paragraph">
<p>The bounding box is provided as four numbers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lower corner, coordinate axis 1 (minimum longitude)</p>
</li>
<li>
<p>Lower corner, coordinate axis 2 (minimum latitude)</p>
</li>
<li>
<p>Upper corner, coordinate axis 1 (maximum longitude)</p>
</li>
<li>
<p>Upper corner, coordinate axis 2 (maximum latitude)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/31">ISSUE 31</a><br>
Support boxes that span the antimeridian.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A template for the definition of the parameter in YAML according to
OpenAPI 3.0 is available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/parameters/bbox.yaml">bbox.yaml</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_resulttype"><a class="anchor" href="#_parameter_resulttype"></a>7.9.5. Parameter resultType</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-resultType-definition<br></p>
</div>
<div class="paragraph">
<p>Each feature collection operation SHALL support a parameter <code>resultType</code>
with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: resultType
in: query
required: false
schema:
  type: string
  enum:
    - hits
    - results
  default: results
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-resultType-response<br></p>
</div>
<div class="paragraph">
<p>A successful execution of the operation SHALL respond in one of two
ways. It may either generate a complete response containing resources that satisfy the
operation or it may simply generate an empty response container
that indicates the count of the total number of resources that the
operation would return. Which of these two responses is generated is
determined by the value of the optional resultType parameter.</p>
</div>
<div class="paragraph">
<p>The allowed values for this parameter are <code>results</code> and <code>hits</code>.</p>
</div>
<div class="paragraph">
<p>If the value of the resultType parameter is set to <code>results</code>, the server
SHALL generate a complete response document containing resources that
satisfy the operation.</p>
</div>
<div class="paragraph">
<p>If the value of the resultType attribute is set to <code>hits</code>, the server
SHALL generate an empty response document containing no resource
instances.</p>
</div>
<div class="paragraph">
<p>If the parameter is not provided, <code>results</code> is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A template for the definition of the parameter in YAML according to
OpenAPI 3.0 is available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/parameters/resultType.yaml">resultType.yaml</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/13">ISSUE 13</a><br>
Support resultType that returns only the ids of the selected features?
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/16">ISSUE 16</a><br>
Ability to set no null/empty geometry in returned response
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_for_filtering_on_feature_properties"><a class="anchor" href="#_parameters_for_filtering_on_feature_properties"></a>7.9.6. Parameters for filtering on feature properties</h4>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/20">ISSUE 20</a><br>
Query parameter collisions.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 7</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/core/fc-filters<br></p>
</div>
<div class="paragraph">
<p>If features in the feature collection include a feature property that has a
simple value (for example, a string or integer) that is expected to be useful
for applications using the service to filter the features of the collection
based on this property, you SHOULD support a parameter with the name of the
feature property and with the following characteristics (using an
OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>in: query
required: false
style: form
explode: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>schema</code> property SHALL be the same as the definition of the feature
property in the response schema.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 4. An additional parameter to filter buildings based on their function</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: function
in: query
description: &gt;-
  Only return buildings of a particular function.\

  Default = return all buildings.
required: false
schema:
  type: string
  enum:
    - residential
    - commercial
    - public use
style: form
explode: false
example: &#39;function=public+use&#39;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_2"><a class="anchor" href="#_response_2"></a>7.9.7. Response</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 21</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-response<br></p>
</div>
<div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a
HTTP status code "200".</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/fc-links<br></p>
</div>
<div class="paragraph">
<p>A "200"-response SHALL include the following links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this response document (relation: <code>self</code>),</p>
</li>
<li>
<p>a link to the response document in every other media type supported
by the service (relation: <code>alternate</code>),</p>
</li>
<li>
<p>a link to the previous "page", if the parameter <code>startIndex</code> was provided
with a value <code>i</code> with <code>i &gt; 0</code> and <code>i mod c = 0</code> where <code>c</code> is the value for the
parameter <code>count</code> (relation: <code>prev</code>).</p>
</li>
<li>
<p>a link to the next "page", if the parameter <code>startIndex</code> was provided with
a value <code>i</code> with <code>i + c &lt; f</code> and <code>i mod c = 0</code> where <code>c</code> is the value for the
parameter <code>count</code> and <code>f</code> is the number of features in the collection (relation: <code>next</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All links SHALL include the <code>rel</code> and <code>type</code> link parameters.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The representation of the links in the payload will depend on the encoding
of the feature collection.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 5. Links</div>
<div class="content">
<div class="paragraph">
<p>If the request is to return features from the 51st feature, using the default value of the <code>count</code> parameter "10", the links in the response could be (in this example represented as link headers):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=50&gt;; rel="self"; type="application/geo+json"
Link: &lt;http://data.example.org/buildings?f=xml&amp;startIndex=50&gt;; rel="alternate"; type="application/gml+xml;version=3.2"
Link: &lt;http://data.example.org/buildings?f=html&amp;startIndex=50&gt;; rel="alternate"; type="text/html"
Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=40&gt;; rel="prev"; type="application/geo+json"
Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=60&gt;; rel="next"; type="application/geo+json"</code></pre>
</div>
</div>
<div class="paragraph">
<p>If an explicit <code>count</code> of "50" is used, the links in the response could be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=50&amp;count=50&gt;; rel="self"; type="application/geo+json"
Link: &lt;http://data.example.org/buildings?f=xml&amp;startIndex=50&amp;count=50&gt;; rel="alternate"; type="application/gml+xml;version=3.2"
Link: &lt;http://data.example.org/buildings?f=html&amp;startIndex=50&amp;count=50&gt;; rel="alternate"; type="text/html"
Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=0&amp;count=50&gt;; rel="prev"; type="application/geo+json"
Link: &lt;http://data.example.org/buildings?f=json&amp;startIndex=100&amp;count=50&gt;; rel="next"; type="application/geo+json"</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>TODO<br>
Add normative statements for the following information in the response:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>timeStamp: Indicates the time and date when the response was generated.</p>
</li>
<li>
<p>numberMatched: The number of features of the feature type that match the
selection parameters like <code>bbox</code> or additional filter parameters.</p>
</li>
<li>
<p>numberReturned: If the value is provided, the value shall be identical to the number
of items in the "features" array. A server may omit this information in a response,
if the information about the number of features is not known or difficult to compute.
If the value of the resultType parameter is set to "hits",
the value shall be set to "0", if provided.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Related to <a href="https://github.com/opengeospatial/WFS_FES/issues/8">ISSUE 8</a><br>
Define these as headers or include them in the payload? <code>timeStamp</code>, for example, does
not seem to be needed given the 'Date' HTTP header. For <code>numberMatched</code> and
<code>numberReturned</code> headers do not seem to be a good idea as, for example,
<code>numberReturned</code> can only be included at the end, if streaming is used.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_feature_2"><a class="anchor" href="#_feature_2"></a>7.10. Feature</h3>
<div class="sect3">
<h4 id="_operation_3"><a class="anchor" href="#_operation_3"></a>7.10.1. Operation</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/f-op<br></p>
</div>
<div class="paragraph">
<p>For every feature in a feature collection (path "/{collectionId}"),
the service SHALL support the HTTP GET operation at the path <code>/{collectionId}/{id}</code>.</p>
</div>
<div class="paragraph">
<p><code>collectionId</code> is the property of the same name in the feature collection metadata.</p>
</div>
<div class="paragraph">
<p><code>id</code> is the unique identifier of the feature within the dataset.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add more about the feature identifiers.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_3"><a class="anchor" href="#_response_3"></a>7.10.2. Response</h4>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 24</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/f-success<br></p>
</div>
<div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a
HTTP status code "200".</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/core/f-links<br></p>
</div>
<div class="paragraph">
<p>A "200"-response SHALL include the following links in the response:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to the response document (relation: <code>self</code>),</p>
</li>
<li>
<p>a link to the response document in every other media type supported by the service (relation: <code>alternate</code>), and</p>
</li>
<li>
<p>a link to the feature collection that contains this feature (relation: <code>collection</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All links SHALL include the <code>rel</code> and <code>type</code> link parameters.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The representation of the links in the payload will depend on the encoding
of the feature collection.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 6. Links</div>
<div class="content">
<div class="paragraph">
<p>The links in a feature could be (in this example represented as link headers):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Link: &lt;http://data.example.org/buildings/123?f=json&gt;; rel="self"; type="application/geo+json"
Link: &lt;http://data.example.org/buildings/123?f=xml&gt;; rel="alternate"; type="application/gml+xml;version=3.2"
Link: &lt;http://data.example.org/buildings/123?f=html&gt;; rel="alternate"; type="text/html"
Link: &lt;http://data.example.org/buildings?f=json&gt;; rel="collection"; type="application/geo+json"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_classes_for_encodings"><a class="anchor" href="#_requirements_classes_for_encodings"></a>8. Requirements classes for encodings</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>8.1. Overview</h3>
<div class="paragraph">
<p>This clause specifies four pre-defined requirements classes for encodings to be
used in a WFS. These encodings are commonly used encodings for spatial data on
the web:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_html">HTML</a></p>
</li>
<li>
<p><a href="#rc_geojson">GeoJSON</a></p>
</li>
<li>
<p><a href="#rc_gmlsf0">Geography Markup Language (GML), Simple Features Profile, Level 0</a></p>
</li>
<li>
<p><a href="#rc_gmlsf2">Geography Markup Language (GML), Simple Features Profile, Level 2</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>None of these encodings is mandatory and an implementation of the <a href="#rc_core">Core</a>
requirements class may also decide to use none of them, but to use another encoding
instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_html"><a class="anchor" href="#_requirement_class_html"></a>8.2. Requirement Class "HTML"</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add intro text for the requirement class.<br>
Link to <a href="#SDWBP">[SDWBP]</a> and summarize the key points discussed around in BP2.<br>
Also link to <a href="#rec_html">[rec_html]</a>.
</td>
</tr>
</table>
</div>
<table id="rc_html" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/html" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">WFS 3.0 Core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#HTML5">HTML5</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#schema.org">Schema.org</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/html/definition<br></p>
</div>
<div class="paragraph">
<p>Every "200"-response of an operation of the server
SHALL support the media type <code>text/html</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 27</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/html/content<br></p>
</div>
<div class="paragraph">
<p>Every "200"-response of the server with the media type "text/html" SHALL be a
<a href="https://www.w3.org/TR/html5/">HTML 5 document</a> that includes the following
information in the HTML body:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all information identified in the schemas of the
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#responseObject">Response Object</a>
in the HTML <code>&lt;body/&gt;</code>, and</p>
</li>
<li>
<p>all links in HTML <code>&lt;a/&gt;</code> elements in the HTML <code>&lt;body/&gt;</code>.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 8</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/html/schema-org<br></p>
</div>
<div class="paragraph">
<p>In a "200"-response with the media type <code>text/html</code>, include
<a href="#schema.org">Schema.org</a> annotations.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_requirement_class_geojson"><a class="anchor" href="#_requirement_class_geojson"></a>8.3. Requirement Class "GeoJSON"</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add intro text for the requirement class.
</td>
</tr>
</table>
</div>
<table id="rc_geojson" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/geojson" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/geojson</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">WFS 3.0 Core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#GeoJSON">GeoJSON</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/geojson/definition<br></p>
</div>
<div class="paragraph">
<p>"200"-responses of the server SHALL support the following media types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code> for feature collection metadata, and</p>
</li>
<li>
<p><code>application/geo+json</code> for feature collections and features.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 29</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/geojson/content<br></p>
</div>
<div class="paragraph">
<p>Every "200"-response with the media type <code>application/geo+json</code> SHALL be</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="https://tools.ietf.org/html/rfc7946#section-3.3">GeoJSON FeatureCollection Object</a> for feature collections, and</p>
</li>
<li>
<p>a <a href="https://tools.ietf.org/html/rfc7946#section-3.2">GeoJSON Feature Object</a> for features.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links specified in the requirements <code>/req/core/fc-links</code> and
<code>/req/core/f-links</code> SHALL be added in a extension property
(foreign member) with the name <code>links</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Templates for the definition of the schemas for the GeoJSON responses in
OpenAPI definitions are available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureCollectionGeoJSON.yaml">featureCollectionGeoJSON.yaml</a> and
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureGeoJSON.yaml">featureGeoJSON.yaml</a>.
These are generic schemas that do not include any application schema information about
specific feature types or their properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_geography_markup_language_gml_simple_features_profile_level_0"><a class="anchor" href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_0"></a>8.4. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 0"</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add intro text for the requirement class.
</td>
</tr>
</table>
</div>
<table id="rc_gmlsf0" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/gmlsf0" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/gmlsf0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">WFS 3.0 Core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#GMLSF">Geography Markup Language (GML), Simple Features Profile, Level 0</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 30</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/gmlsf0/definition<br></p>
</div>
<div class="paragraph">
<p>"200"-responses of the server
SHALL support the following media types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>application/xml</code> for feature collection metadata, and</p>
</li>
<li>
<p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf0</code> for feature collections and features.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 31</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/gmlsf0/content<br></p>
</div>
<div class="paragraph">
<p>Every "200"-response with the media type <code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf0</code> SHALL be</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="http://schemas.opengis.net/wfs/3.0/wfs-core.xsd">WFS 3.0 Core FeatureCollection Object</a> for feature collections, and</p>
</li>
<li>
<p>a <a href="http://schemas.opengis.net/gml/3.2.1/feature.xsd">GML 3.2 Feature</a> for features.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Every feature SHALL conform to the <a href="#GMLSF">GML Simple Features Profile, Level 0</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
The WFS 3.0 Core FeatureCollection Object has to be an XML schema element defined according to 8.4.2 Defining feature collections.<br>
Add statements how links are represented.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Templates for the definition of the schemas for the GML responses in OpenAPI
definitions are available at
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureCollectionGML.yaml">featureCollectionGML.yaml</a> and
<a href="https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/featureGML.yaml">featureGML.yaml</a>.
These are generic schemas that do not include any application schema information about
specific feature types or their properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirement_class_geography_markup_language_gml_simple_features_profile_level_2"><a class="anchor" href="#_requirement_class_geography_markup_language_gml_simple_features_profile_level_2"></a>8.5. Requirement Class "Geography Markup Language (GML), Simple Features Profile, Level 2"</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add intro text for the requirement class.
</td>
</tr>
</table>
</div>
<table id="rc_gmlsf2" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/gmlsf2" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/gmlsf2</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">WFS 3.0 Core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#GMLSF">Geography Markup Language (GML), Simple Features Profile, Level 2</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 32</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/gmlsf2/definition<br></p>
</div>
<div class="paragraph">
<p>"200"-responses of the server
SHALL support the following media types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>application/xml</code> for feature collection metadata, and</p>
</li>
<li>
<p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf2</code> for feature collections and features.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 33</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/gmlsf2/content<br></p>
</div>
<div class="paragraph">
<p>Every "200"-response with the media type <code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf2</code> SHALL be</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="http://schemas.opengis.net/wfs/3.0/wfs-core.xsd">WFS 3.0 Core FeatureCollection Object</a> for feature collections, and</p>
</li>
<li>
<p>a <a href="http://schemas.opengis.net/gml/3.2.1/feature.xsd">GML 3.2 Feature</a> for features.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Every feature SHALL conform to the <a href="#GMLSF">GML Simple Features Profile, Level 2</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_class_openapi_3_0"><a class="anchor" href="#_requirements_class_openapi_3_0"></a>9. Requirements class "OpenAPI 3.0"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_basic_requirements"><a class="anchor" href="#_basic_requirements"></a>9.1. Basic requirements</h3>
<div class="paragraph">
<p>The API of servers conforming to this requirements class are defined by an <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#oasDocument">OpenAPI Document</a>.</p>
</div>
<table id="rc_oas30" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/wfs-1/3.0/req/oas30" class="bare">http://www.opengis.net/spec/wfs-1/3.0/req/oas30</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">WFS 3.0 Core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#OpenAPI">OpenAPI Specification 3.0.1</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 34</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/oas-definition-1<br></p>
</div>
<div class="paragraph">
<p>The service SHALL provide an OpenAPI definition in JSON and HTML at the path
<code>/api</code> using the media type <code>application/openapi+json;version=3.0</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 35</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/oas-definition-2<br></p>
</div>
<div class="paragraph">
<p>The JSON representation SHALL conform to the
<a href="#OpenAPI">OpenAPI Specification, version 3.0</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An example OpenAPI document is included in <a href="#oas30_example">Annex C</a>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 36</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/req/oas30/oas-impl<br>
<br></p>
<p class="tableblock">The server SHALL implement all capabilities specified in the OpenAPI
definition.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Currently, no tool is known to validate that a server implements the
API specified in its OpenAPI definition.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_complete_definition"><a class="anchor" href="#_complete_definition"></a>9.2. Complete definition</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 37</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/completeness<br></p>
</div>
<div class="paragraph">
<p>The OpenAPI definition SHALL specify for each operation all
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#httpCodes">HTTP Status Codes</a>
and
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#responseObject">Response Objects</a>
that the server uses in responses.</p>
</div>
<div class="paragraph">
<p>This includes the successful execution of an operation as well as all error
situations that originate from the server.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that servers that, for example, are access-controlled
(see <a href="#security">Security</a>), that support web cache validation, CORS
or that use HTTP redirection will make use of additional HTTP status codes
beyond regular codes like <code>200</code> for successful GET requests
and <code>400</code>, <code>404</code> or <code>500</code> for error situations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Check, if the approach is consistent with the security concepts
identified in the upcoming "OGC Web Services Security" standard.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Clients should be prepared to receive responses not documented in the
OpenAPI definition. For example, additional errors may occur in the transport
layer outside of the server.</p>
</div>
</div>
<div class="sect2">
<h3 id="exceptions"><a class="anchor" href="#exceptions"></a>9.3. Exceptions</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 38</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/exceptions-codes<br></p>
</div>
<div class="paragraph">
<p>For error situations that originate from the server, the API definition
SHALL cover all applicable HTTP Status Codes.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 39</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/exceptions-400<br></p>
</div>
<div class="paragraph">
<p>For error situations that are the result of a bad request by the client,
error code "400" SHALL be used.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add list of pre-defined WFS error codes for 400-responses,
including MissingParameterValue, InvalidParameterValue, OperationParsingFailed.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 40</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/exceptions-500<br></p>
</div>
<div class="paragraph">
<p>For error situations that are the result of an internal server error,
error code "500" SHALL be used.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO<br>
Add list of pre-defined WFS error codes for 500-responses,
including NoApplicableCode, OperationProcessingFailed.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 7. An exception response object definition</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>description: An error occurred.
content:
  application/json:
    schema:
      $ref: https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/exception.yaml
  application/xml:
    schema:
      $ref: https://raw.githubusercontent.com/opengeospatial/WFS_FES/master/core/openapi/schemas/exception.yaml
  text/html:
    schema:
      type: string</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security"><a class="anchor" href="#security"></a>9.4. Security</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 41</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/security<br></p>
</div>
<div class="paragraph">
<p>For cases, where the operations of the server are access-controlled,
the security scheme(s) SHALL be documented in the OpenAPI definition.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The OpenAPI specification currently supports the following <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#security-scheme-object">security schemes</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP authentication,</p>
</li>
<li>
<p>an API key (either as a header or as a query parameter),</p>
</li>
<li>
<p>OAuth2&#8217;s common flows (implicit, password, application and access code) as defined in RFC6749, and</p>
</li>
<li>
<p>OpenID Connect Discovery.</p>
</li>
</ul>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/10">ISSUE 10</a><br>
If an implementation limits the access to a subset of the operations for some
users (or if the server implements even more fine-grained access), it may no
longer be possible for such a user to de-reference all links, including
relationships between features. Does this require a discussion? Or more?
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_feature_collection_metadata_2"><a class="anchor" href="#_feature_collection_metadata_2"></a>9.5. Feature collection metadata</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 42</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/req/oas30/fc-md-op<br></p>
</div>
<div class="paragraph">
<p>The <code>operationId</code> of the HTTP GET operation for feature collection metadata
SHALL be "describeCollections".</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_feature_collections_2"><a class="anchor" href="#_feature_collections_2"></a>9.6. Feature collections</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 9</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/oas30/fc-key-properties<br></p>
</div>
<div class="paragraph">
<p>The schema for the Response Objects of the HTTP GET operation for
feature collections SHOULD include key feature properties
of the features in the feature collection.</p>
</div>
<div class="paragraph">
<p>This is in particular helpful, if filter parameters are defined for the
collection (see recommendation <code>/rec/core/fc-filters</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_features"><a class="anchor" href="#_features"></a>9.7. Features</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Recommendation 10</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div><div class="paragraph">
<p>/rec/oas30/f-key-properties<br></p>
</div>
<div class="paragraph">
<p>The schema for the Response Objects of the HTTP GET operation for
features SHOULD include key feature properties
of the features.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mediatypes"><a class="anchor" href="#mediatypes"></a>10. Media Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JSON media types that would typically be used in a WFS that supports JSON are</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code> for feature collection metadata, and</p>
</li>
<li>
<p><code>application/geo+json</code> for feature collections and features.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>XML media types that would typically occur in a WFS that supports XML are</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>application/xml</code> for feature collection metadata,</p>
</li>
<li>
<p><code>application/gml+xml;version=3.2</code> for any GML 3.2 feature collections and features, and</p>
</li>
<li>
<p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf0</code> for GML 3.2 feature collections and features conforming to the GML Simple Feature Level 0 profile.</p>
</li>
<li>
<p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf2</code> for GML 3.2 feature collections and features conforming to the GML Simple Feature Level 2 profile.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The typical HTML media type for all "web pages" in a WFS would be <code>text/html</code>.</p>
</div>
<div class="paragraph">
<p>The media type for an OpenAPI definition in JSON is <code>application/openapi+json;version=3.0</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The media type for the OpenAPI definition has not yet been registered
with IANA. See <a href="https://github.com/OAI/OpenAPI-Specification/issues/110" class="bare">https://github.com/OAI/OpenAPI-Specification/issues/110</a>.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance_class_abstract_test_suite_normative"><a class="anchor" href="#_conformance_class_abstract_test_suite_normative"></a>Annex A: Conformance Class Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="changes"><a class="anchor" href="#changes"></a>Annex B: Changes to the previous versions of WFS (Informative)</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
<a href="https://github.com/opengeospatial/WFS_FES/issues/3">ISSUE 3</a><br>
Annex B is meant as a discussion / explanation to the community that uses
WFS today. Maybe we should remove this from the document and make it a
separate document (e.g., part of the release notes)?
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>B.1. Overview</h3>
<div class="paragraph">
<p>The previous versions of the WFS standard used a Remote-Procedure-Call-over-HTTP architectural style using XML for any payloads as it was state-of-the-art in the late 1990s and early 2000s, when WFS was originally designed.</p>
</div>
<div class="paragraph">
<p>This version 3.0 specifies a modernized service, that is better alignment with the current architecture of the Web. Key changes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Architecture</strong>: WFS now supports and is consistent with HTTP and HTTPS. In previous versions, HTTP has been used mainly as a tunnel for WFS messages. In addition, the resources provided by the service include hypermedia controls in their representations to guide the user of a WFS.</p>
</li>
<li>
<p><strong>Encodings</strong>: Previous versions were strongly tied to XML (Capabilities documents, XML schemas, Filter Encoding expressions, GML encoding). This version has been written with HTML, JSON and XML as encodings in mind, because these are common encodings today, but no encoding is mandatory and other encodings may be used as well.</p>
</li>
<li>
<p><strong>Reuse</strong>: The use of WFS-specific resources or components has been minimized and, where available, existing industry-standards that are commonly used by developers are used instead. An example is the use of OpenAPI (the successor of Swagger) instead of OGC-specific "Capabilities" documents.</p>
</li>
<li>
<p><strong>Schemas</strong>: Previous versions required XML schemas for all feature types and valid XML documents. While the capability to support application schemas has been maintained, it is no longer mandatory that rigid schemas are provided and used for validation of feature data.</p>
</li>
<li>
<p><strong>Modularization</strong>: The WFS 2.0 standard, together with the Filter Encoding 2.0 standard, specifies a powerful, but complex service interface. In order to better support implementations that only need a relatively simple service or client, this version is modularized into multiple parts. This first part represents a simple interface to access spatial data that is sufficient for cases that do not require support for transactions, complex data structures, rich queries, custom coordinate reference systems, etc. Additional parts will specify extensions to this part to meet the needs of use cases that require such capabilities.</p>
</li>
<li>
<p><strong>Security</strong>: Built-in support for secured services using common security schemes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These changes align WFS with the <a href="#SDWBP">W3C/OGC best practices for sharing Spatial Data on the Web</a> and the general <a href="#DWBP">W3C best practices for sharing Data on the Web</a>.</p>
</div>
<div class="paragraph">
<p>As a result of this modernization, WFS 3.0 implementations are not backwards compatible with WFS 2.0 implementations per se. However, it has been a design goal to define WFS 3.0 in a way so that the WFS 3.0 interface can be mapped to an WFS 2.0 implementation - at least for the capabilities that were already in scope in WFS 2.0. WFS 3.0 is intended to be simpler and more modern, but still an evolution from the previous versions and their implementations.</p>
</div>
<div class="paragraph">
<p>The next sub-clauses in this Annex describe the following aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>WFS as a RESTful service - the architectural design principles,</p>
</li>
<li>
<p>how elements of a WFS 2.0 Capabilities document map to an OpenAPI definition, and</p>
</li>
<li>
<p>how WFS 2.0 operations map to WFS 3.0 and vice versa.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_wfs_as_a_restful_service"><a class="anchor" href="#_wfs_as_a_restful_service"></a>B.2. WFS as a RESTful service</h3>
<div class="paragraph">
<p>This version of WFS uses the REST architectural style that is that basis of many current Web APIs. Key characteristics include:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>URIs</strong>:  Every URI designates exactly one resource.</p>
</li>
<li>
<p><strong>Addressability</strong>:  All the interesting aspects of a service (e.g. features) are exposed as resources.</p>
</li>
<li>
<p><strong>Statelessness</strong>:  Every HTTP request includes all necessary information for the server to fulfil the request without relying on previous requests.</p>
</li>
<li>
<p><strong>Representation</strong>:  Each resource offered by the service has a representation that encodes useful information about the state of a resource.  For example, typical representations for feature resources, as defined in this standard, are GML, GeoJSON or HTML.</p>
</li>
<li>
<p><strong>Connectedness</strong> : Resources will link to each other and alternate representations.</p>
</li>
<li>
<p><strong>Uniform interface</strong>:  The server offers a uniform interface, using the HTTP verbs, for accessing and manipulating resources.</p>
<div class="ulist">
<ul>
<li>
<p><strong>GET</strong> to retrieve resources</p>
</li>
<li>
<p><strong>POST</strong> to create resources</p>
</li>
<li>
<p><strong>PUT</strong> to modify existing resources</p>
</li>
<li>
<p><strong>DELETE</strong> to remove resources</p>
</li>
<li>
<p><strong>HEAD</strong> to test for the existence of resources</p>
</li>
<li>
<p><strong>OPTIONS</strong> to get available options for a resource (e.g. which HTTP methods can be used)</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This part of WFS only specifies operations using GET.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Safety and idempotence</strong>:  HTTP methods are characterized as safe and/or idempotent and servers should be mindful when processing HTTP requests to not violate the safety and/or idempotence of the requested method.  Safe methods are methods that do not modify the representation of a resource and so their results can be safely cached.  Idempotent methods are methods that can be repeatedly processed but their effect will always be the same.  For example, whether a resource is deleted once or a dozen times the effect is still the same – the resource remains removed from the system.  The following table provides an overview of the safety and /or idempotence of each HTTP method used in the REST binding:</p>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 1. Safety and Idempotence of HTTP methods</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">HTTP Method</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Safe</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Idempotent</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">HEAD</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">OPTIONS</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">YES</p></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 8. An unsafe implementation of GET</div>
<div class="content">
<div class="paragraph">
<p>An unsafe implementation of the GET method would be to use the GET method to delete resource from the server using a URL such as " GET /buildings/1013/delete".</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_between_ogc_capabilities_and_openapi"><a class="anchor" href="#_mapping_between_ogc_capabilities_and_openapi"></a>B.3. Mapping between OGC Capabilities and OpenAPI</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_between_wfs_2_0_operations_and_wfs_3_0"><a class="anchor" href="#_mapping_between_wfs_2_0_operations_and_wfs_3_0"></a>B.4. Mapping between WFS 2.0 operations and WFS 3.0</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TODO
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oas30_example"><a class="anchor" href="#oas30_example"></a>Annex C: OpenAPI definition example (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This annex includes a complete example of an OpenAPI definition for a WFS.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>openapi: 3.0.0
info:
  title: A sample API conforming to the OGC Web Feature Service standard
  version: 0.0.1
  description: &gt;-
    WARNING - THIS IS WORK IN PROGRESS\

    TODO - Add a description of the sample service.\

    TODO - Add security elements in a separate example.\

    TODO - Connect to a live service.
  contact:
    name: Acme Corporation
    email: info@example.org
    url: http://example.org/
  license:
    name: CC-BY 4.0 license
    url: https://creativecommons.org/licenses/by/4.0/
servers:
  - url: https://dev.example.org/
    description: Development server
  - url: https://data.example.org/
    description: Production server
paths:
  /:
    get:
      summary: describe the feature collections in the dataset
      operationId: describeCollections
      tags:
        - Capabilities
      parameters:
        - $ref: &#39;#/components/parameters/f&#39;
      responses:
        &#39;200&#39;:
          description: The feature collections shared by this API.
          content:
            application/json:
              schema:
                $ref: &#39;#/components/schemas/content&#39;
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featureCollectionsJson&#39;
            application/xml:
              schema:
                $ref: &#39;#/components/schemas/content&#39;
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featureCollectionsXml&#39;
            text/html:
              schema:
                type: string
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featureCollectionsHtml&#39;
        default:
          description: An error occured.
          content:
            application/json:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            application/xml:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            text/html:
              schema:
                type: string
  /buildings:
    get:
      summary: retrieve building features
      description: &gt;-
        Every feature in a dataset belongs to one collection of features. A dataset may consist of multiple feature
        collections. Typically, a feature collection is a collection of features of a similar type, based on a
        common schema.

        This sample WFS has a single feature collection for buildings.
      operationId: getBuildings
      tags:
        - Features
      parameters:
        - $ref: &#39;#/components/parameters/f&#39;
        - $ref: &#39;#/components/parameters/startIndex&#39;
        - $ref: &#39;#/components/parameters/count&#39;
        - $ref: &#39;#/components/parameters/bbox&#39;
        - $ref: &#39;#/components/parameters/resultType&#39;
        - $ref: &#39;#/components/parameters/function&#39;
      responses:
        &#39;200&#39;:
          description: &gt;-
            Information about the feature collection plus the first features matching the selection parameters.
          content:
            application/geo+json:
              schema:
                $ref: &#39;#/components/schemas/featureCollectionGeoJSON&#39;
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featuresJson&#39;
            application/gml+xml;version=3.2:
              schema:
                $ref: &#39;#/components/schemas/featureCollectionGML&#39;
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featuresXml&#39;
            text/html:
              schema:
                type: string
              examples:
                ex1:
                  $ref: &#39;#/components/examples/featuresHtml&#39;
        default:
          description: An error occured.
          content:
            application/json:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            application/xml:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            text/html:
              schema:
                type: string
  /buildings/{fid}:
    get:
      summary: retrieve a feature
      operationId: getFeature
      tags:
        - Features
      parameters:
        - $ref: &#39;#/components/parameters/id&#39;
        - $ref: &#39;#/components/parameters/f&#39;
      responses:
        &#39;200&#39;:
          description: A feature.
          content:
            application/geo+json:
              schema:
                $ref: &#39;#/components/schemas/buildingGeoJSON&#39;
            application/gml+xml;version=3.2:
              schema:
                $ref: &#39;#/components/schemas/buildingGML&#39;
            text/html:
              schema:
                type: string
        default:
          description: An error occured.
          content:
            application/json:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            application/xml:
              schema:
                $ref: &#39;#/components/schemas/exception&#39;
            text/html:
              schema:
                type: string
components:
  parameters:
    f:
      name: f
      in: query
      description: &gt;-
        The format of the response. If no value is provided, the standard http
        rules apply, i.e., the accept header shall be used to determine the
        format.\

        Pre-defined values are &quot;xml&quot;, &quot;json&quot; and &quot;html&quot;. The response to other
        values is determined by the server.
      required: false
      schema:
        type: string
        enum:
          - json
          - xml
          - html
      style: form
      explode: false
    startIndex:
      name: startIndex
      in: query
      description: &gt;-
        The optional startIndex parameter indicates the index within the result
        set from which the server shall begin presenting results in the
        response document. The first element has an index of 0.\

        Minimum = 0.\

        Default = 0.
      required: false
      schema:
        type: integer
        minimum: 0
        default: 0
      style: form
      explode: false
    count:
      name: count
      in: query
      description: &gt;-
        The optional count parameter limits the number of items that are presented in the response document.\

        Only items are counted that are on the first level of the collection in the response document.
        Nested objects contained within the explicitly requested items shall not be counted.\

        Minimum = 1.\

        Maximum = 10000.\

        Default = 10.
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 10000
        default: 10
      style: form
      explode: false
    bbox:
      name: bbox
      in: query
      description: &gt;-
        Only features that have a geometry that intersects the bounding box are selected. The bounding box is provided as four numbers:

        * Lower corner, coordinate axis 1 (minimum longitude)
        * Lower corner, coordinate axis 2 (minimum latitude)
        * Upper corner, coordinate axis 1 (maximum longitude)
        * Upper corner, coordinate axis 2 (maximum latitude)
      required: false
      schema:
        type: array
        items:
          type: number
          minItems: 4
          maxItems: 4
          minimum: -180
          maximum: 180
      style: form
      explode: false
    resultType:
      name: resultType
      in: query
      description: &gt;-
        This service will respond to a query in one of two ways (excluding
        an exception response). It may either generate a complete
        response document containing resources that satisfy the
        operation or it may simply generate an empty response container
        that indicates the count of the total number of resources that the
        operation would return. Which of these two responses is generated is
        determined by the value of the optional resultType parameter.\

        The allowed values for this parameter are &quot;results&quot; and &quot;hits&quot;.\

        If the value of the resultType parameter is set to &quot;results&quot;, the server
        will generate a complete response document containing resources that
        satisfy the operation.\

        If the value of the resultType attribute is set to &quot;hits&quot;, the server
        will generate an empty response document containing no resource
        instances.\

        Default = &quot;results&quot;.
      required: false
      schema:
        type: string
        enum:
          - hits
          - results
        default: results
      style: form
      explode: false
      example: resultType=results
    function:
      name: function
      in: query
      description: &gt;-
        Only return buildings of a particular function.\

        Default = return all buildings.
      required: false
      schema:
        type: string
        enum:
          - residential
          - commercial
          - public use
      style: form
      explode: false
      example: &#39;function=public+use&#39;
    id:
      name: id
      in: path
      description: The id of a feature
      required: true
      schema:
        type: string
  schemas:
    exception:
      type: object
      required:
        - code
      xml:
        name: Exception
        namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
        prefix: wfs
      properties:
        code:
          type: string
          xml:
            name: code
            attribute: true
        description:
          type: string
          xml:
            name: description
            namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
            prefix: wfs
    bbox:
      type: object
      required:
        - bbox
      properties:
        crs:
          type: string
          enum:
            - http://www.opengis.net/def/crs/OGC/1.3/CRS84
          default: http://www.opengis.net/def/crs/OGC/1.3/CRS84
        bbox:
          description: minimum longitude, minimum latitude, maximum longitude, maximum latitude
          type: array
          items:
            minItems: 4
            maxItems: 4
            type: number
            minimum: -180
            maximum: 180
          example:
            - -180
            - -90
            - 180
            - 90
    content:
      type: object
      required:
        - collections
      xml:
        name: Collections
        namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
        prefix: wfs
      properties:
        collections:
          type: array
          items:
            $ref: &#39;#/components/schemas/collectionInfo&#39;
          xml:
            namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
            prefix: wfs
    collectionInfo:
      type: object
      required:
        - name
        - links
      properties:
        name:
          type: string
          example: address
        title:
          type: string
          example: address
        description:
          type: string
          example: An address.
        links:
          type: array
          items:
            $ref: &#39;#/components/schemas/link&#39;
          example:
            - href: http://data.example.com/buildings
              rel: item
            - href: http://example.com/concepts/buildings.html
              rel: describedBy
              type: text/html
            - href: http://example.com/schemas/buildings.xsd
              rel: describedBy
              type: application/xml
        extent:
          $ref: &#39;#/components/schemas/bbox&#39;
        crs:
          description: TODO - add description ... first crs is the default crs
          type: array
          items:
            type: string
          default:
            - http://www.opengis.net/def/crs/OGC/1.3/CRS84
          example:
            - http://www.opengis.net/def/crs/OGC/1.3/CRS84
            - http://www.opengis.net/def/crs/EPSG/0/4326
    link:
      type: object
      required:
        - href
      properties:
        href:
          type: string
          xml:
            attribute: true
          example: http://data.example.com/buildings/123
        rel:
          type: string
          xml:
            attribute: true
          example: prev
        type:
          type: string
          xml:
            attribute: true
          example: application/gml+xml;version=3.2
        hreflang:
          type: string
          xml:
            attribute: true
          example: en
    featureCollectionGeoJSON:
      type: object
      required:
        - features
      properties:
        features:
          type: array
          items:
            $ref: &#39;#/components/schemas/featureGeoJSON&#39;
    featureGeoJSON:
      type: object
      required:
        - type
        - geometry
        - properties
      properties:
        type:
          type: string
          enum:
            - Feature
        geometry:
          $ref: &#39;#/components/schemas/geometryGeoJSON&#39;
        properties:
          type: object
          nullable: true
        id:
          oneOf:
            - type: string
            - type: integer
    geometryGeoJSON:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - Point
            - MultiPoint
            - LineString
            - MultiLineString
            - Polygon
            - MultiPolygon
            - GeometryCollection
    featureCollectionGML:
      type: object
      xml:
        name: FeatureCollection
        namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
        prefix: wfs
      properties:
        features:
          type: array
          items:
            xml:
              name: featureMember
              namespace: &#39;http://www.opengis.net/wfs/3.0&#39;
              prefix: wfs
            oneOf:
              - $ref: &#39;#/components/schemas/referenceXlink&#39;
              - $ref: &#39;#/components/schemas/featureGML&#39;
    featureGML:
      type: object
      required:
        - &#39;gml:id&#39;
      xml:
        name: AbstractFeature
        namespace: &#39;http://www.opengis.net/gml/3.2&#39;
        prefix: gml
      properties:
        &#39;gml:id&#39;:
          type: string
          xml:
            namespace: &#39;http://www.opengis.net/gml/3.2&#39;
            prefix: gml
            attribute: true
    referenceXlink:
      type: object
      required:
        - href
      properties:
        href:
          type: string
          xml:
            namespace: &#39;http://www.w3.org/1999/xlink&#39;
            prefix: xlink
            attribute: true
        title:
          type: string
          xml:
            namespace: &#39;http://www.w3.org/1999/xlink&#39;
            prefix: xlink
            attribute: true
    buildingGeoJSON:
      type: object
      required:
        - type
        - geometry
        - properties
      properties:
        type:
          type: string
          enum:
            - Feature
        geometry:
          $ref: &#39;#/components/schemas/geometryGeoJSON&#39;
        properties:
          type: object
          nullable: true
          properties:
            name:
              type: string
            function:
              type: string
              enum:
                - residential
                - commercial
                - public use
            floors:
              type: integer
              minimum: 1
    buildingGML:
      type: object
      required:
        - &#39;gml:id&#39;
      xml:
        name: Building
        namespace: &#39;http://data.example.org/schemas/building&#39;
        prefix: bui
      properties:
        &#39;gml:id&#39;:
          type: string
          xml:
            namespace: &#39;http://www.opengis.net/gml/3.2&#39;
            prefix: gml
            attribute: true
        name:
          type: string
          xml:
            namespace: &#39;http://data.example.org/schemas/building&#39;
            prefix: bui
        function:
          type: string
          enum:
            - residential
            - commercial
            - public use
          xml:
            namespace: &#39;http://data.example.org/schemas/building&#39;
            prefix: bui
        floors:
          type: integer
          minimum: 1
          xml:
            namespace: &#39;http://data.example.org/schemas/building&#39;
            prefix: bui
        location:
          type: object
          xml:
            namespace: &#39;http://data.example.org/schemas/building&#39;
            prefix: bui
  examples:
    apidocJson:
      summary: An example for a WFS OpenAPI document in JSON
      externalValue: http://example.org/examples/wfs/openapi.json
    apidocHtml:
      summary: An example for a WFS OpenAPI document in HTML
      externalValue: http://example.org/examples/wfs/openapi.html
    featureCollectionsJson:
      summary: A capabilities example in JSON
      externalValue: http://example.org/examples/wfs/ft.json
    featureCollectionsXml:
      summary: A capabilities example in XML
      externalValue: http://example.org/examples/wfs/ft.xml
    featureCollectionsHtml:
      summary: A capabilities example in HTML
      externalValue: http://example.org/examples/wfs/ft.html
    featuresJson:
      summary: A feature collection in JSON
      externalValue: http://example.org/examples/wfs/f.geojson
    featuresXml:
      summary: A feature collection in XML
      externalValue: http://example.org/examples/wfs/f.gml
    featuresHtml:
      summary: A feature collection in HTML
      externalValue: http://example.org/examples/wfs/f.html
tags:
  - name: Capabilities
    description: Essential characteristics of this API including information about the data.
  - name: Features
    description: Access to data (features).</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex D: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2017-10-09</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">initial version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2017-10-11</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">changes discussed in SWG/PT call on 2017-10-09</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2017-12-13</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.3</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">address issues #2, #5, #6, #7, #8, #14, #15, #19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2018-01-22</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">add description of the UML diagram</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2018-02-01</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.5</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C. Portele</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2,3,5,7</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">add links to recent issues on GitHub, remove edition date in HTML5 reference</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex E: Bibliography</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="SDWBP"></a> W3C/OGC: Spatial Data on the Web Best Practices, W3C Working Group Note 28 September 2017, <a href="https://www.w3.org/TR/sdw-bp/" class="bare">https://www.w3.org/TR/sdw-bp/</a></p>
</li>
<li>
<p><a id="DWBP"></a> W3C: Data on the Web Best Practices, W3C Recommendation 31 January 2017, <a href="https://www.w3.org/TR/dwbp/" class="bare">https://www.w3.org/TR/dwbp/</a></p>
</li>
<li>
<p><a id="link-relations"></a> IANA: Link Relation Types, <a href="https://www.iana.org/assignments/link-relations/link-relations.xml" class="bare">https://www.iana.org/assignments/link-relations/link-relations.xml</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-02-01 17:15:02 CET
</div>
</div>
</body>
</html>