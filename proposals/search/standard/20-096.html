<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>OGC API - Features - Part 5: Search (PROPOSAL DRAFT)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>OGC API - Features - Part 5: Search (PROPOSAL DRAFT)</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC&#174; document: <a href="http://www.opengis.net/doc/IS/ogcapi-features-4/1.0" class="bare">http://www.opengis.net/doc/IS/ogcapi-features-4/1.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC&#174; document:    20-096</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: <a href="http://docs.opengeospatial.org/DRAFTS/20-096.html">1.0.0-SNAPSHOT (Editor&#8217;s draft)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Latest Published Draft: n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC&#174; PROPOSAL DRAFT</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editors: Panagiotis (Peter) A. Vretanos, Clemens Portele</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC API - Features - Part 5: Search (PROPOSAL DRAFT)</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright &#169; 2020 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC® Standard (PROPOSAL DRAFT)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:   Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: 	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#clause-conformance">2. Conformance</a>
<ul class="sectlevel2">
<li><a href="#_terms_and_definitions">2.1. Terms and Definitions</a>
<ul class="sectlevel3">
<li><a href="#_collection_items_end_point">2.1.1. collection items end point</a></li>
<li><a href="#_resource_end_point">2.1.2. resource end point</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_conventions_and_background">3. Conventions and background</a></li>
<li><a href="#clause-search">4. Requirements Class "Search"</a>
<ul class="sectlevel2">
<li><a href="#_overview">4.1. Overview</a></li>
<li><a href="#clause-search-adhoc-execute">4.2. Executing ad-hoc queries</a></li>
</ul>
</li>
<li><a href="#clause-multi-collection-search">5. Requirements Class "Multi-Collection Search"</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">5.1. Overview</a></li>
<li><a href="#clause-multi-collection-search-adhoc-execute">5.2. Executing ad-hoc multi-collection queries</a></li>
</ul>
</li>
<li><a href="#clause-stored-query">6. Requirements Class "Stored Query"</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">6.1. Overview</a></li>
<li><a href="#clause-stored-query-discovery">6.2. Discovering stored queries</a></li>
<li><a href="#clause-stored-query-execute">6.3. Executing stored queries</a></li>
<li><a href="#clause-stored-query-create">6.4. Creating stored queries</a></li>
<li><a href="#clause-stored-query-update">6.5. Updating stored queries</a></li>
<li><a href="#clause-stored-query-delete">6.6. Deleting stored queries</a></li>
</ul>
</li>
<li><a href="#clause-multi-collection-stored-query">7. Requirements Class "Multi-Collection Stored Query"</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">7.1. Overview</a></li>
<li><a href="#clause-multi-collection-stored-query-discovery">7.2. Discovering multi-collection stored queries</a></li>
<li><a href="#clause-multi-collection-stored-query-execute">7.3. Executing multi-collection stored queries</a></li>
<li><a href="#clause-multi-collection-stored-query-create">7.4. Creating multi-collection stored queries</a></li>
<li><a href="#clause-multi-collection-stored-query-update">7.5. Updating multi-collection stored queries</a></li>
<li><a href="#clause-multi-collection-stored-query-delete">7.6. Deleting multi-collection stored queries</a></li>
</ul>
</li>
<li><a href="#clause-parameterized-stored-query">8. Requirements Class "Parameterized Stored Query"</a>
<ul class="sectlevel2">
<li><a href="#_overview_5">8.1. Overview</a></li>
<li><a href="#clause-parameterized-stored-query-discovery">8.2. Parameter discovery</a></li>
<li><a href="#clause-parameterized-stored-query-parameter-define">8.3. Defining query parameters</a></li>
<li><a href="#clause-parameterized-stored-query-parameter-update">8.4. Updating a query parameter</a></li>
<li><a href="#clause-parameterized-stored-query-parameter-delete">8.5. Deleting a query parameter</a></li>
<li><a href="#_executing_a_stored_query_with_parameters">8.6. Executing a stored query with parameters</a></li>
</ul>
</li>
<li><a href="#clause-parameterized-multi-collection-stored-query">9. Requirements Class "Parameterized Multi-Collection Stored Query"</a>
<ul class="sectlevel2">
<li><a href="#_overview_6">9.1. Overview</a></li>
<li><a href="#clause-parameterized-multi-collection-stored-query-discovery">9.2. Parameter discovery</a></li>
<li><a href="#clause-parameterized-multi-collection-stored-query-parameter-define">9.3. Defining query parameters</a></li>
<li><a href="#clause-parameterized-multi-collection-stored-query-parameter-update">9.4. Update a query parameter</a></li>
<li><a href="#clause-parameterized-multi-collection-stored-query-parameter-delete">9.5. Delete a query parameter</a></li>
<li><a href="#_executing_a_multi_collection_stored_query_with_parameters">9.6. Executing a multi-collection stored query with parameters</a></li>
</ul>
</li>
<li><a href="#clause-parameterized-query-expression">10. Requirements Class "Parameterized Query Expression"</a>
<ul class="sectlevel2">
<li><a href="#_overview_7">10.1. Overview</a></li>
<li><a href="#clause-parameterized-query-expression-substitution-variables">10.2. Substitution variables</a></li>
<li><a href="#clause-parameterized-query-expression-url-query-parameters">10.3. URL query parameters</a></li>
</ul>
</li>
<li><a href="#clause-ogc-json-query-expression">11. Requirements Class "OGC JSON Encoding for Query Expressions"</a>
<ul class="sectlevel2">
<li><a href="#_overview_8">11.1. Overview</a></li>
<li><a href="#_query_expressions">11.2. Query Expressions</a></li>
<li><a href="#_examples">11.3. Examples</a></li>
</ul>
</li>
<li><a href="#_requirements_class_standing_query">12. Requirements Class "Standing Query"</a>
<ul class="sectlevel2">
<li><a href="#search-overview">12.1. Overview</a></li>
</ul>
</li>
<li><a href="#oas">13. OpenAPI 3.0</a></li>
<li><a href="#mediatypes">14. Media Types</a></li>
<li><a href="#clause-security-considerations">15. Security Considerations</a></li>
<li><a href="#ats">Annex A: Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="#_introduction">A.1. Introduction</a></li>
</ul>
</li>
<li><a href="#_revision_history">Annex B: Revision History</a></li>
<li><a href="#Bibliography">Annex C: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This is a PROPOSAL DRAFT for a search extension to OGC API Features.  As such it is INCOMPLETE.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>OGC API standards define modular API building blocks to spatially enable Web APIs in a consistent way. The <a href="#OpenAPI">OpenAPI specification</a> is used to define the API building blocks.</p>
</div>
<div class="paragraph">
<p>This extension defines the behaviour of an API that supports search capabilities
beyond those defined in Part 1 and which may include query expressions that are not conveniently encoded as query parameters on a URL as defined in Part 3.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This specification is being developed in the OGC API - Features SWG but is being written as a generic extension that is applicable to a variety of resource types including features.  The feature-specific portions of this extension are issolated to the clause titled <a href="#features">Features</a>.  It is anticipated that the bulk of this extension will eventually be moved into 'OGC API - Common' and only the feature-specific content will remain to be managed by the 'OGC API - Features' SWG.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
This is a DRAFT version of the 5th part of the OGC API - Features standards. This draft is not complete and there are open issues that are still under discussion.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>resource feature collection instance spatial data openapi query stored REST PUT POST DELETE join filter CQL</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organizations submitted this document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CubeWerx Inc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editors or the submitters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Affiliation</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Panagiotis (Peter) A. Vretanos <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">CubeWerx Inc.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document specifies an extension that defines the behaviour of a server
that supports searching for resources from one or more collections.  This
part supports queries that cannot be expressed, or cannot be conveniently
expressed, using the filtering mechanisms available in Parts 1 or 3.</p>
</div>
<div class="paragraph">
<p>Examples of the types of queries that can be expressed using Part 5 are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>queries with a long expression text that cannot be conveniently specified as URL parameters</p>
</li>
<li>
<p>bundled queries that, in a single request, fetch resources from two or more collectons</p>
</li>
<li>
<p>queries that include predicates that join two or more collections</p>
</li>
<li>
<p>stored queries possibly referencing multiple resource collections</p>
</li>
<li>
<p>stored queries with parameters</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specifically, this document defines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an endpoint, <code>/collections/{collectionId}/search</code> that can be used to execute ad-hoc queries on a single collection or discover the stored queries available for this collection</p>
</li>
<li>
<p>an endpoint, <code>/search</code> that can used to execute ad-hoc queries on multiple collections or discover the available multi-collection stored queries,</p>
</li>
<li>
<p>an endpoint <code>/collections/{collectionId}/search/{queryId}</code> that can used to execute, create, modify or delete stored queries for this collection,</p>
</li>
<li>
<p>an endpoint, <code>/search/{queryId}</code> that can be used to execute, create, modify or delete multi-collection stored queries,</p>
</li>
<li>
<p>support for parameterized stored queries,</p>
</li>
<li>
<p>a query expression language, based on CQL,</p>
</li>
<li>
<p>support for standing or periodically executed stored queries</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following table crosswalks each of the resource endpoints discussed in this
standard with the HTTP methods GET, POST, PUT and DELETE.  Each intersecting cell
in the table either contains a reference to the section in this standard where
that combination from resource and method is discussed or the phrase
<code>NOT DEFINED</code> which is used to indicate that this specification does not
describe any behaviour for that combination of resource endpoint and HTTP
method.</p>
</div>
<table id="endpoint_method_matrix" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported HTTP methods by resource</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Resource endpoint</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">HTTP METHOD</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/collections/{collectionId}/search</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Get the list of stored queries for this collection.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-stored-query-discovery">Discovering stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute an ad-hoc search on this collection.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-search-adhoc-execute">Executing ad-hoc queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NOT DEFINED</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NOT DEFINED</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/search</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Get the list of multi-collection stored queries.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-stored-query-discovery">Discovering multi-collection stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute an ad-hoc search that references multiple collections.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-search-adhoc-execute">Executing ad-hoc multi-collection queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NOT DEFINED</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NOT DEFINED</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/collections/{collectionId}/search/{queryId}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute this stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-stored-query-execute">Executing stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute this stored query with an application/x-www-form-urlencoded body.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-stored-query-execute">Executing stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Create or replace a stored query for this collection with this identifier.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-stored-query-create">Creating stored queries</a>, <a href="#clause-stored-query-update">Updating stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Delete this stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-stored-query-delete">Deleting stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/search/{queryId}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute this multi-collection stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-stored-query-execute">Executing multi-collection stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Execute this multi-collection stored query with an application/x-www-form-urlencoded body.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-stored-query-execute">Executing multi-collection stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Create or replace a multi-collection stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-stored-query-create">Creating multi-collection stored queries</a>, <a href="#clause-multi-collection-stored-query-update">Updating multi-collection stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Delete this stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-multi-collection-stored-query-delete">Deleting multi-collection stored queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/collections/{collectionId}/search/{queryId}/parameters</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Get the list of parameters for this stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-stored-query">Retirieving the list of stored query parameters</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Define the parameters for a stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-stored-query-parameter-define">Defining query parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Update a stored query parameter.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-stored-query-parameter-update">Updating a query parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Delete a stored query parameter.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-stored-query-parameter-delete">Delete a query parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4" style="background-color: #FFFFFF;"><p class="tableblock">/search/{queryId}/parameters</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Get the list of parameters for this parametertized multi-collection stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-multi-collection-stored-query-discovery">Retrieving the list of multi-collection-stored-query-parameters</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Define the parameters for a multi-collection stored query.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-multi-collection-stored-query-parameter-define">Defining query parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Update a multi-collection stored query parameter.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-multi-collection-stored-query-parameter-update">Updating a query parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Delete a multi-collection stored query parameter.</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#clause-parameterized-multi-collection-stored-query-parameter-delete">Delete a query parameter</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="clause-conformance"><a class="anchor" href="#clause-conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines three requirements / conformance classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rc_search">Search</a></p>
</li>
<li>
<p><a href="#rc_multi-collection-search">Multi-Collection Search</a></p>
</li>
<li>
<p><a href="#rc_stored-query">Stored Query</a></p>
</li>
<li>
<p><a href="#rc_multi-collection-stored-query">Multi-Collection Stored Query</a></p>
</li>
<li>
<p><a href="#rc_parameterized-stored-query">Parameterized Stored Query</a></p>
</li>
<li>
<p><a href="#rc_parameterized-multi-collection-stored-query">Parameterized Multi-Collection Stored Query</a></p>
</li>
<li>
<p><a href="#rc_parameterized-query-expression">Parameterized Query Expressions</a></p>
</li>
<li>
<p><a href="#rc_ogc-json-query-expression">OGC JSON Encoding for Query Expressions</a></p>
</li>
<li>
<p><a href="#rc_standing-query">Standing Query</a></p>
</li>
<li>
<p><a href="#rc_html">HTML</a></p>
</li>
<li>
<p><a href="#rc_geojson">GeoJSON</a></p>
</li>
<li>
<p><a href="#rc_gmlsf0">Geography Markup Language (GML), Simple Features Profile, Level 0</a></p>
</li>
<li>
<p><a href="#rc_gmlsf2">Geography Markup Language (GML), Simple Features Profile, Level 2</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The standardization target is "Web APIs".</p>
</div>
<div class="paragraph">
<p>The URIs of the associated conformance classes are:</p>
</div>
<table id="conf_class_uris" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Conformance class URIs</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Conformance class</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">URI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Search</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/search" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/search</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Multi-Collection Search</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-search" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-search</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Stored Query</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Multi-Collection Stored Query</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Parameterized Stored Query</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Parameterized Multi-Collection Stored Query</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-multi-collection-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-multi-collection-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Parameterized Query Expressions</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parametrized-query-expression" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parametrized-query-expression</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">OGC JSON Encoding for Query Expressions</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/ogc-json-query-expression" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/ogc-json-query-expression</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Standing Query</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/standing-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/standing-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">HTML</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/html" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GeoJSON</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/geojson" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/geojson</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GML Simple Features Profile, Level 0</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/gmlsf0" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/gmlsf0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GML Simple Features Profile, Level 2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/gmlsf2" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/gmlsf2</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests
specified in <a href="#ats">Annex A</a> of this document. The framework, concepts, and
methodology for testing, and the criteria to be achieved to claim conformance
are specified in the OGC Compliance Testing Policies and Procedures and the
OGC Compliance Testing web site.
== References</p>
</div>
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="OAFeat-1"></a> Portele, C., Vretanos, P., Heazel, C.: OGC 17-069r2, <strong>OGC API - Features - Part 1: Core</strong>, <a href="http://example.com/fixme" class="bare">http://example.com/fixme</a></p>
</li>
<li>
<p><a id="rfc5261"></a> Urpalainen, J.: IETF RFC 5261, <strong>An Extensible Markup Language (XML) Patch Operations Framework Utilizing XML Path Language (XPath) Selectors</strong>, 2008 <a href="http://tools.ietf.org/rfc/rfc5261.txt" class="bare">http://tools.ietf.org/rfc/rfc5261.txt</a></p>
</li>
<li>
<p><a id="rfc5789"></a> Dusseault, L., Snell, J.: IETF RFC 5789, <strong>PATCH Method for HTTP</strong>, 2010 <a href="http://tools.ietf.org/rfc/rfc5789.txt" class="bare">http://tools.ietf.org/rfc/rfc5789.txt</a></p>
</li>
<li>
<p><a id="rfc6902"></a> Bryan, P., Nottingham, M.: IETF RFC 6902, <strong>JavaScript Object Notation (JSON) Patch</strong>, 2013 <a href="http://tools.ietf.org/rfc/rfc6902.txt" class="bare">http://tools.ietf.org/rfc/rfc6902.txt</a></p>
</li>
<li>
<p><a id="rfc7396"></a>  Hoffman, P., Snell, J.: IETF RFC 7396, <strong>JSON Merge Path</strong>, 2015 <a href="http://tools.ietf.org/rfc/rfc7396.txt" class="bare">http://tools.ietf.org/rfc/rfc7396.txt</a>
== Terms, definitions and abbreviated terms</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>2.1. Terms and Definitions</h3>
<div class="paragraph">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r9], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms, definitions and abbreviated terms apply in addition to those defined in <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>.</p>
</div>
<div class="sect3">
<h4 id="_collection_items_end_point"><a class="anchor" href="#_collection_items_end_point"></a>2.1.1. collection items end point</h4>
<div class="paragraph">
<p>the path of the end point from which the resources of items of a collection can be accesses</p>
</div>
<div class="paragraph">
<p>EXAMPLE: For features, the collection items end point is  '/collections/{collectionId}/items'.</p>
</div>
<div class="paragraph">
<p>EXAMPLE: For processes, the collection items end point is '/processes'</p>
</div>
</div>
<div class="sect3">
<h4 id="_resource_end_point"><a class="anchor" href="#_resource_end_point"></a>2.1.2. resource end point</h4>
<div class="paragraph">
<p>the path of the end point used to access a specific instance of a resource from a collection</p>
</div>
<div class="paragraph">
<p>EXAMPLE: For features, the resource end point is '/collections/{collectionId}/items/{featureId}'.</p>
</div>
<div class="paragraph">
<p>EXAMPLE: For processes, the resource end point is '/processes/{processId}'.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions_and_background"><a class="anchor" href="#_conventions_and_background"></a>3. Conventions and background</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clauses 5 and 6.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-search"><a class="anchor" href="#clause-search"></a>4. Requirements Class "Search"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>4.1. Overview</h3>
<table id="rc_search" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/search" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/search</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-search-adhoc-execute"><a class="anchor" href="#clause-search-adhoc-execute"></a>4.2. Executing ad-hoc queries</h3>
<table id="req_search_post-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/search/post-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every resource collection identified in the resource collections response (path <code>/collections</code>), the server SHALL support the HTTP POST operation at the path <code>/collections/{collectionId}/search</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_search_limit-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/search/limit-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>limit</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: limit
in: query
required: false
schema:
  type: integer
  minimum: 1
  maximum: 10000
  default: 10
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_search_post-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/search/post-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP POST request SHALL contain a representation of a query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This specification does not mandate a specific query expression language.</p>
</div>
<table id="rec_ogc-json-query-expression" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/ogc-json-query-expression</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If a query expression can be represented as JSON for its intended use, then implemenations SHOULD considing supporting the "OGC JSON Encoding for Query
Expressions" as defined by the OpenAPI 3.0 schema <a href="http://www.fix.me">query.yaml</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="schema_ogc-json-query-expression" class="listingblock">
<div class="title"><a href="http://fix.me/query.yaml">Schema for query expressions</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: array
items:
   type: object
   properties:
     collections:
       type: array
       items:
          type: string
     properties:
       type: array
       items:
          type: string
     filter:
        $ref: cql.yaml</code></pre>
</div>
</div>
<table id="req_search_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/search/response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL only include resources selected by the request.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_search_limit-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/search/limit-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL not contain more resource than specified by the optional <code>limit</code> parameter. If the API definition specifies a maximum value for <code>limit</code> parameter, the response SHALL not contain more resource than this maximum value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only items are counted that are on the first level of the collection. Any nested objects contained within the explicitly requested items  SHALL not be counted.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-multi-collection-search"><a class="anchor" href="#clause-multi-collection-search"></a>5. Requirements Class "Multi-Collection Search"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>5.1. Overview</h3>
<table id="rc_multi-collection-search" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-search" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-search</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-search-adhoc-execute"><a class="anchor" href="#clause-multi-collection-search-adhoc-execute"></a>5.2. Executing ad-hoc multi-collection queries</h3>
<table id="req_multi-collection-search_post-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-search/post-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP POST operation at the path <code>/search</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-search_limit-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-search/limit-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>limit</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: limit
in: query
required: false
schema:
  type: integer
  minimum: 1
  maximum: 10000
  default: 10
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-search_post-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-search/post-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP POST request SHALL contain a representation of a query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This specification does not mandate a specific query expression language.</p>
</div>
<div class="paragraph">
<p>This specification does, however, recommend:  <a href="#rec_ogc-json-query-expression">[rec_ogc-json-query-expression]</a>.</p>
</div>
<table id="req_multi-collection-search_response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-search/response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL only include resources selected by the request.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-search_limit-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-search/limit-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL not contain more resource than specified by the optional <code>limit</code> parameter. If the API definition specifies a maximum value for <code>limit</code> parameter, the response SHALL not contain more resource than this maximum value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only items are counted that are on the first level of the collection. Any nested objects contained within the explicitly requested items  SHALL not be counted.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-stored-query"><a class="anchor" href="#clause-stored-query"></a>6. Requirements Class "Stored Query"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>6.1. Overview</h3>
<table id="rc_stored-query" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-stored-query-discovery"><a class="anchor" href="#clause-stored-query-discovery"></a>6.2. Discovering stored queries</h3>
<table id="req_stored-query_queries-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/queries-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every resource collection identified in the resource collections response (path <code>/collections</code>), the server SHALL support the HTTP GET operation at the path <code>/collections/{collectionId}/search</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_queries-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/queries-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response wit
h a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="http://fix.me/queries.yaml">queries.yaml</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="schema_queries" class="listingblock">
<div class="title"><a href="http://fix.me/queries.yaml">Schema for the list of stored queries (queries.yaml)</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
  - queries
properties:
  queries:
    type: array
    items:
      $ref: query-md.yaml
  links:
    type: array
    items:
      $ref: link.yaml</code></pre>
</div>
</div>
<div id="schema_query-md" class="listingblock">
<div class="title"><a href="http://fix.me/query-md.yaml">Schema describing a stored query (query-md.yaml)</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
  - id
  - mutable
properties:
  id:
    description: identifier of the stored query
    type: string
  mutable:
    description: indicates whether this query can be modified through the API
    type: boolean
    default: true
  title:
    description: human readable title for the stored query
    type: string
  description:
    description: a description of the stored query
    type: string
  collections:
    description: the list of collections, specified by id, that this query accesses
    type: array
    items:
      type: string
  query:
    description: the text of the stored query
    oneOf:
    - type: string
    - type: object
  links:
    type: array
    items:
      $ref: link.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>An implementation may choose to deploy a pre-installed set of stored queries that cannot be modified (i.e. cannot be updated or deleted).  Such stored queries are called <code>immutable</code> stored queries.</p>
</div>
</div>
<div class="sect2">
<h3 id="clause-stored-query-execute"><a class="anchor" href="#clause-stored-query-execute"></a>6.3. Executing stored queries</h3>
<table id="req_stored-query_get-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/get-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query identified in the stored queries response (path <code>/collections/{collectionId}/search</code>), the server SHALL support the HTTP GET operation at the path <code>/collection/{collectionId}/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_post-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/post-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query identified in the stored queries response (path <code>/collections/{collectionId}/search</code>), the server SHALL support the HTTP POST operation at the path <code>/collection/{collectionId}/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content type of the POST body shall be <code>application/x-www-form-urlencoded</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_limit-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/limit-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>limit</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: limit
in: query
required: false
schema:
  type: integer
  minimum: 1
  maximum: 10000
  default: 10
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_get-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/get-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL only include resources selected by the request.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_limit-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/limit-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL not contain more resource than specified by the optional <code>limit</code> parameter. If the API definition specifies a maximum value for <code>limit</code> parameter, the response SHALL not contain more resource than this maximum value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only items are counted that are on the first level of the collection. Any nested objects contained within the explicitly requested items  SHALL not be counted.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-stored-query-create"><a class="anchor" href="#clause-stored-query-create"></a>6.4. Creating stored queries</h3>
<table id="req_stored-query_put-create" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/put-create</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP PUT operation at the path <code>/collections/{collectionId}/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> SHALL be specified by the client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_put-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/put-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of a HTTP PUT request SHALL contain a representation of the query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This specification does not mandate a specific query expression language.</p>
</div>
<div class="paragraph">
<p>This specification does, however, recommend:  <a href="#rec_ogc-json-query-expression">[rec_ogc-json-query-expression]</a>.</p>
</div>
<table id="req_stored-query_put-create-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/put-create-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '201'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-stored-query-update"><a class="anchor" href="#clause-stored-query-update"></a>6.5. Updating stored queries</h3>
<table id="req_stored-query_put-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 21</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/put-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The value of the <code>mutable</code> parameter (JSONPath: <code>$.queries[*].mutable</code>) SHALL be <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP PUT operation at the path <code>/collections/{collectionId}/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#req_stored-query_put-body">[req_stored-query_put-body]</a>.</p>
</div>
<table id="req_stored-query_put-update-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/put-update-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '204'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-stored-query-delete"><a class="anchor" href="#clause-stored-query-delete"></a>6.6. Deleting stored queries</h3>
<table id="req_stored-query_delete-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/delete-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The value of the <code>mutable</code> property (JSONPath: <code>$.queries[*].mutable</code>) SHALL be <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query in the stored queries response (path '/collections/{collectionId}/search'), the server SHALL support the HTTP DELETE operation at the path '/collections/{collectionId}/search/{queryId}'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_stored-query_delete-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 24</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/stored-query/delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response wit
h a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-multi-collection-stored-query"><a class="anchor" href="#clause-multi-collection-stored-query"></a>7. Requirements Class "Multi-Collection Stored Query"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>7.1. Overview</h3>
<table id="rc_multi-collection-stored-query" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/multi-collection-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-stored-query-discovery"><a class="anchor" href="#clause-multi-collection-stored-query-discovery"></a>7.2. Discovering multi-collection stored queries</h3>
<table id="req_multi-collection-stored-query_queries-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/queries-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path <code>/search</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_queries-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/queries-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response wit
h a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="http://fix.me/queries.yaml">queries.yaml</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameters <code>collections</code> (JSONPAth: <code>$.queries[*].collections</code>) SHALL be required.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="schema_mc-queries" class="listingblock">
<div class="title"><a href="http://fix.me/queries.yaml">Schema for the list of multi-collection stored queries</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
  - queries
properties:
  queries:
    type: array
    items:
      $ref: query-md.yaml
  links:
    type: array
    items:
      $ref: link.yaml</code></pre>
</div>
</div>
<div id="schema_mc-query-md" class="listingblock">
<div class="title"><a href="http://fix.me/query-md.yaml">Schema describing a multi-collection stored query</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
  - id
  - mutable
properties:
  id:
    description: identifier of the stored query
    type: string
  mutable:
    description: indicates whether this query can be modified through the API
    type: boolean
    default: true
  title:
    description: human readable title for the stored query
    type: string
  description:
    description: a description of the stored query
    type: string
  collections:
    description: the list of collections, specified by id, that this query accesses
    type: array
    items:
      type: string
  query:
    description: the text of the stored query
    oneOf:
    - type: string
    - type: object
  links:
    type: array
    items:
      $ref: link.yaml</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-stored-query-execute"><a class="anchor" href="#clause-multi-collection-stored-query-execute"></a>7.3. Executing multi-collection stored queries</h3>
<table id="req_multi-collection-stored-query_get-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 27</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/get-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query identified in the stored queries response (path <code>/search</code>), the server SHALL support the HTTP GET operation at the path <code>/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_limit-definition" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/limit-definition</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The operation SHALL support a parameter <code>limit</code> with the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: limit
in: query
required: false
schema:
  type: integer
  minimum: 1
  maximum: 10000
  default: 10
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_get-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 29</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/get-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL only include resources selected by the request.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_limit-response" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 30</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/limit-response</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response SHALL not contain more resource than specified by the optional <code>limit</code> parameter. If the API definition specifies a maximum value for <code>limit</code> parameter, the response SHALL not contain more resource than this maximum value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Only items are counted that are on the first level of the collection. Any nested objects contained within the explicitly requested items  SHALL not be counted.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-stored-query-create"><a class="anchor" href="#clause-multi-collection-stored-query-create"></a>7.4. Creating multi-collection stored queries</h3>
<table id="req_multi-collection-stored-query_put-create" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 31</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/put-create</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP PUT operation at the path <code>/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> SHALL be specified by the client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_put-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 32</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/put-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of a HTTP PUT request SHALL contain a representation of the query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This specification does not mandate a specific query expression language.</p>
</div>
<div class="paragraph">
<p>This specification does, however, recommend:  <a href="#rec_ogc-json-query-expression">[rec_ogc-json-query-expression]</a>.</p>
</div>
<table id="req_multi-collection-stored-query_put-create-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 33</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/put-create-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '201'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-stored-query-update"><a class="anchor" href="#clause-multi-collection-stored-query-update"></a>7.5. Updating multi-collection stored queries</h3>
<table id="req_multi-collection-stored-query_put-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 34</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/put-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The value of the <code>mutable</code> parameter (JSONPath: <code>$.queries[*].mutable</code>) SHALL be <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP PUT operation at the path <code>/search/{queryId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See: <a href="#req_multi-collection-stored-query_put-body">[req_multi-collection-stored-query_put-body]</a>.</p>
</div>
<table id="req_multi-collection-stored-query_put-update-success.adoc" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 35</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/put-update-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '204'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-multi-collection-stored-query-delete"><a class="anchor" href="#clause-multi-collection-stored-query-delete"></a>7.6. Deleting multi-collection stored queries</h3>
<table id="req_multi-collection-stored-query_delete-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 36</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/delete-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The value of the <code>mutable</code> property (JSONPath: <code>$.queries[*].mutable</code>) SHALL be <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query in the stored queries response (path '/search'), the server SHALL support the HTTP DELETE operation at the path '/search/{queryId}'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property in the stored queries response (JSONPath: <code>$.queries[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_multi-collection-stored-query_delete-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 37</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/multi-collection-stored-query/delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response wit
h a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-parameterized-stored-query"><a class="anchor" href="#clause-parameterized-stored-query"></a>8. Requirements Class "Parameterized Stored Query"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_5"><a class="anchor" href="#_overview_5"></a>8.1. Overview</h3>
<table id="rc_parameterized-stored-query" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Not sure we need a separate conformance class for parameterization since stored queries without parameters seem useless to me.  Probably need more developer feedback for this one.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="clause-parameterized-stored-query-discovery"><a class="anchor" href="#clause-parameterized-stored-query-discovery"></a>8.2. Parameter discovery</h3>
<table id="req_parameterized-stored-query_parameters-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 38</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-stored-query/parameters-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query identified in the stored queries response (path: <code>/collections/{collectionId}/search</code>), the server SHALL support the HTTP GET operation at the path <code>/collection/{collectionId}/search/{queryId}/parameters</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/collections/{collectionId}/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-stored-query_parameters-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 39</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameters-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="http://fix.me/parameters.yaml">parameters.yaml</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each parameter identifier, <code>id</code>, SHALL also be valid URL query parameter name as defined in <a href="https://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Genertic Syntax</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="schema_parameters" class="listingblock">
<div class="title"><a href="http://fix.me/parameters.yaml">Schema for the list of parameters (parameters.yaml)</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
- parameters
properties:
   parameters:
      type: array
      items:
         $ref: parameter.yaml</code></pre>
</div>
</div>
<div id="schema_parameter" class="listingblock">
<div class="title"><a href="http://fix.me/parameters.yaml">Schema for a parameter description(parameter.yaml)</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: object
required:
   - id
   - type
properties:
   id:
      description: the token that may be used as a query parameter
      type: string
   title:
      description: a human readable title for the queryable
      type: string
   description:
      description: a human-readable narrative describing the queryable
      type: string
   language:
      description: the language used for the title and description
      type: string
   type:
      description: the data type of the queryable
      type: string
      enum:
      - string
      - number
      - integer
      - boolean
      - spatial
      - temporal
   spatial-types:
      description: the list of allowed spatial geometry types, if known
      type: string
      enum:
      - point
      - multi-point
      - curve
      - multi-curve
      - surface
      - multi-surface
      - solid
      - multi-solid
      - aggregate
      - any
   temporal-types:
      description: the list of allowed temporal geometry types, if known
      type: string
      enum:
      - instant
      - interval
   links:
      description: additional links, e.g. to documentation or to the schema of the values
      type: array
      items:
         $ref: &#39;https://raw.githubusercontent.com/opengeospatial/ogcapi-features/master/core/openapi/ogcapi-features-1.yaml#/components/schemas/link&#39;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clause-parameterized-stored-query-parameter-define"><a class="anchor" href="#clause-parameterized-stored-query-parameter-define"></a>8.3. Defining query parameters</h3>
<table id="req_parameterized-stored-query_parameter-define" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 40</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-stored-query/parameter-define</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query identified in the stored queries response (path: <code>/collections/{collectionId}/search</code>), the server SHALL support the HTTP POST operation at the path <code>/collection/{collectionId}/search/{queryId}/parameters</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/collections/{collectionId}/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 41</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameter-define-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP POST request SHALL contain a document that validates against the OpenAPI 3.0 schema document <code>parameters.yaml</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-stored-query_parameter-define-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 42</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameter-define-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '201'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each defined stored query parameter, the response SHALL include a 'Location' header with the URL of the newly created parameter.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-parameterized-stored-query-parameter-update"><a class="anchor" href="#clause-parameterized-stored-query-parameter-update"></a>8.4. Updating a query parameter</h3>
<table id="req_parameterized-stored-query_parameter-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 43</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-stored-query/parameter-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query parameter identified in the parameters response (path: <code>/collections/{collectionId}/search/{queryId}/parameters</code>), the server SHALL support the HTTP PUT operation at the path <code>/collection/{collectionId}/search/{queryId}/parameters/{parameterId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>parameterId</code> is each <code>id</code> property (JSONPath: <code>$.parameters[*].id</code>) in the parameters response (path: <code>/collections/{collectionId}/search/{queryid}/parameters</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/collections/{collectionId}/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-stored-query-parameter-update-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 44</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameter-update-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP PUT request SHALL contain a document that validates against the OpenAPI 3.0 schema document <code>parameter.yaml</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-stored-query_parameter-update-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 45</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameter-update-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-parameterized-stored-query-parameter-delete"><a class="anchor" href="#clause-parameterized-stored-query-parameter-delete"></a>8.5. Deleting a query parameter</h3>
<table id="req_parameterized-stored-query_parameter-delete" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 46</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-stored-query/parameter-delete</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query parameter identified in the parameters response (path: <code>/collections/{collectionId}/search/{queryId}/parameters</code>), the server SHALL support the HTTP DELETE operation at the path <code>/collection/{collectionId}/search/{queryId}/parameters/{parameterId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>parameterId</code> is each <code>id</code> property (JSONPath: <code>$.parameters[*].id</code>) in the parameters response (path: <code>/collections/{collectionId}/search/{queryid}/parameters</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/collections/{collectionId}/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-stored-query_parameter-delete-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 47</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-stored-query/parameter-delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_executing_a_stored_query_with_parameters"><a class="anchor" href="#_executing_a_stored_query_with_parameters"></a>8.6. Executing a stored query with parameters</h3>
<div class="paragraph">
<p>See <a href="#clause-stored-query-execute">Executing stored queries</a> to understand how to execute an un-parameterized stored query.</p>
</div>
<div class="paragraph">
<p>See <a href="#clause-parameterized-query-expression-url-query-parameters">URL query parameters</a> to understand how to append query parameters to the stored query path.</p>
</div>
<div id="example_10_1" class="exampleblock">
<div class="title">Example 1. Invoking a parameterized stored query.</div>
<div class="content">
<div class="paragraph">
<p>This example invoked the parameterized stored query with identifier <code>MyQuery01</code> that takes two parameters <code>myParam01</code> and <code>myParam02</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.../collections/MyCollection01/search/MyQuery01?myParam01=X&amp;myParam02=Y</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-parameterized-multi-collection-stored-query"><a class="anchor" href="#clause-parameterized-multi-collection-stored-query"></a>9. Requirements Class "Parameterized Multi-Collection Stored Query"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_6"><a class="anchor" href="#_overview_6"></a>9.1. Overview</h3>
<table id="rc_parameterized-multi-collection-stored-query" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-multi-collection-stored-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-multi-collection-stored-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Not sure we need a separate conformance class for parameterization since stored queries without parameters seem useless to me.  Probably need more developer feedback for this one.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="clause-parameterized-multi-collection-stored-query-discovery"><a class="anchor" href="#clause-parameterized-multi-collection-stored-query-discovery"></a>9.2. Parameter discovery</h3>
<table id="req_parameterized-multi-collection-stored-query_parameters-op" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 48</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-multi-collection-stored-query/parameters-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query identified in the stored queries response (path: <code>/search</code>), the server SHALL support the HTTP GET operation at the path <code>/search/{queryId}/parameters</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-multi-collection-stored-query_parameters-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 49</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameters-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="http://fix.me/parameters.yaml">parameters.yaml</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each parameter identifier, <code>id</code>, SHALL also be valid URL query parameter name as defined in <a href="https://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Genertic Syntax</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="#schema_parameters">parameters.yaml</a>.</p>
</div>
<div class="paragraph">
<p>See <a href="#schema_parameter">parameter.yaml</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="clause-parameterized-multi-collection-stored-query-parameter-define"><a class="anchor" href="#clause-parameterized-multi-collection-stored-query-parameter-define"></a>9.3. Defining query parameters</h3>
<table id="req_parameterized-multi-collection-stored-query_parameter-define" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 50</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-multi-collection-stored-query/parameter-define</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query identified in the stored queries response (path: <code>/search</code>), the server SHALL support the HTTP POST operation at the path <code>/search/{queryId}/parameters</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 51</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameter-define-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP POST request SHALL contain a document that validates against the OpenAPI 3.0 schema document <code>parameters.yaml</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-multi-collection-stored-query_parameter-define-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 52</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameter-define-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '201'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each defined stored query parameter, the response SHALL include a 'Location' header with the URL of the newly created parameter.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-parameterized-multi-collection-stored-query-parameter-update"><a class="anchor" href="#clause-parameterized-multi-collection-stored-query-parameter-update"></a>9.4. Update a query parameter</h3>
<table id="req_parameterized-multi-collection-stored-query_parameter-update" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 53</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-multi-collection-stored-query/parameter-update</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query parameter identified in the parameters response (path: <code>/search/{queryId}/parameters</code>), the server SHALL support the HTTP PUT operation at the path <code>/search/{queryId}/parameters/{parameterId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>parameterId</code> is each <code>id</code> property (JSONPath: <code>$.parameters[*].id</code>) in the parameters response (path: <code>/search/{queryid}/parameters</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-multi-collection-stored-query-parameter-update-body" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 54</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameter-update-body</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The body of the HTTP PUT request SHALL contain a document that validates against the OpenAPI 3.0 schema document <code>parameter.yaml</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-multi-collection-stored-query_parameter-update-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 55</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameter-update-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-parameterized-multi-collection-stored-query-parameter-delete"><a class="anchor" href="#clause-parameterized-multi-collection-stored-query-parameter-delete"></a>9.5. Delete a query parameter</h3>
<table id="req_parameterized-multi-collection-stored-query_parameter-delete" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 56</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-multi-collection-stored-query/parameter-delete</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each stored query parameter identified in the parameters response (path: <code>/search/{queryId}/parameters</code>), the server SHALL support the HTTP DELETE operation at the path <code>/search/{queryId}/parameters/{parameterId}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>parameterId</code> is each <code>id</code> property (JSONPath: <code>$.parameters[*].id</code>) in the parameters response (path: <code>/search/{queryid}/parameters</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_parameterized-multi-collection-stored-query_parameter-delete-success" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 57</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parameterized-multi-collection-stored-query/parameter-delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code '200'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_executing_a_multi_collection_stored_query_with_parameters"><a class="anchor" href="#_executing_a_multi_collection_stored_query_with_parameters"></a>9.6. Executing a multi-collection stored query with parameters</h3>
<div class="paragraph">
<p>See <a href="#clause-multi-collection-stored-query-execute">Executing stored queries</a> to understand how to execute an un-parameterized stored query.</p>
</div>
<div class="paragraph">
<p>See <a href="#clause-parameterized-query-expression-url-query-parameters">URL query parameters</a> to understand how to append query parameters to the stored query path.</p>
</div>
<div id="example_11_1" class="exampleblock">
<div class="title">Example 2. Invoking a parameterized multi-collection stored query.</div>
<div class="content">
<div class="paragraph">
<p>This example invoked the parameterized multi-collection stored query with idenfitier <code>MyQuery02</code> that takes two parameters <code>myParam01</code> and <code>myParam02</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.../search/MyQuery02?myParam01=X&amp;myParam02=Y</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-parameterized-query-expression"><a class="anchor" href="#clause-parameterized-query-expression"></a>10. Requirements Class "Parameterized Query Expression"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_7"><a class="anchor" href="#_overview_7"></a>10.1. Overview</h3>
<table id="rc_parameterized-query-expression" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-query-expression" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/parameterized-query-expression</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="clause-parameterized-query-expression-substitution-variables"><a class="anchor" href="#clause-parameterized-query-expression-substitution-variables"></a>10.2. Substitution variables</h3>
<table id="req_parameterized-query-expression_substitution-variable" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 58</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-query-expression/substitution-variable</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For each parameter identifier (JSONPath: <code>$.parameters[*].id</code>) in the parameters response (path: <code>/collections/{collectionId}/search/{queryId}/parameters</code>) there SHALL be a correponding substitution variable of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code><span></span>&quot;$&quot; &quot;{&quot; substitutionVariableName &quot;}&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>in the text of the query expression used to create the stored query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The name of the substitution variable (denoted using the token <code>substitutionVariableName</code> above) SHALL be the same as the <code>id</code> of the stored query parameter (JSONPath: <code>$.parameters[*].id</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Need to include substitution rules for the server.
</td>
</tr>
</table>
</div>
<div id="example_12_1" class="exampleblock">
<div class="title">Example 3. A parameterized query expression</div>
<div class="content">
<div class="paragraph">
<p>In this example, the ${geometry} substitution variable is used to parameterized this stored query allowing it to be executed with different geometries each time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>   {
      &quot;and&quot;: [
         {
            &quot;like&quot;: [
               {&quot;property&quot;: &quot;eo_instruments&quot;},
               &quot;OLI%&quot;
            ]
         },
         {
            &quot;intersects&quot;: [
               {&quot;property&quot;: &quot;footprint&quot;},
               ${geometry}
            ]
         }
      ]
   }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clause-parameterized-query-expression-url-query-parameters"><a class="anchor" href="#clause-parameterized-query-expression-url-query-parameters"></a>10.3. URL query parameters</h3>
<table id="req_parameterized-query-expression_url-query-parameter" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 59</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/parametrized-query-expression/url-query-parameter</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For every stored query identified in the stored queries response (path: <code>/collections/{collectionId}/search</code>) and for each defined query parameter identified in the query parameters response (path: <code>/collections/{collectionId}/search/{queryId}/parameters</code>), a URL query parameter with the following characteristics (using an OpenAPI specification 3.0 fragment) SHALL be supported by the operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>name: {parameterId}
in: query
required: true
style: form
explode: false</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>parameterId</code> is each <code>id</code> property (JSONPath: <code>$.parameters[*].id</code>) in the query parameters response (path: <code>/collections/{collectionId}/search/{queryId}/parameters</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>queryId</code> is each <code>id</code> property (JSONPath: <code>$.queries[*].id</code>) in the stored queries response (path: <code>/collections/{collectionId}/search</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The parameter <code>collectionId</code> is each <code>id</code> property (JSONPath: <code>$.collections[*].id</code>) in the resource collections response (path: <code>/collections</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="example_12_2" class="exampleblock">
<div class="title">Example 4. Invoking a prameterized stored query</div>
<div class="content">
<div class="paragraph">
<p>Assuming that a parameterized stored query named <code>FindInstrument</code> is created using the query expression from the example <a href="#example_12_1">A parameterized query expression</a>, then the following is an example invocation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   /collections/landsat/search/FindInstrument?geometry=POLYGON((43.5845 -79.5442, 43.6079 -79.4893, 43.5677 -79.4632, 43.6129 -79.3925, 43.6223 -79.3238, 43.6576 -79.3163, 43.7945 -79.1178, 43.8144 -79.1542, 43.8555 -79.1714, 43.7509 -79.6390, 43.5845 -79.5442))</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-ogc-json-query-expression"><a class="anchor" href="#clause-ogc-json-query-expression"></a>11. Requirements Class "OGC JSON Encoding for Query Expressions"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_8"><a class="anchor" href="#_overview_8"></a>11.1. Overview</h3>
<table id="rc_ogc-json-query-expression" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/ogc-json-query-expression" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/ogc-json-query-expression</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_query_expressions"><a class="anchor" href="#_query_expressions"></a>11.2. Query Expressions</h3>
<table id="req_ogc-json-query-expression_schema" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 60</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/ogc-json-query-expression/schema</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC JSON Encoding for Query Experssions SHALL be defined by the following OpenAPI 3.0 schema fragment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: array
items:
   type: object
   properties:
     collections:
       type: array
       items:
          type: string
     properties:
       type: array
       items:
          type: string
     filter:
        $ref: cql.yaml</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="req_ogc-json-query-expression_crs" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 61</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/ogc-json-query-expression/crs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the <a href="http://www.opengis.net/spec/ogcapi-features-2/1.0/conf/crs">CRS</a> conformance class.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The OGC JSON Encoding for Query Experssions SHALL be extended to include a <code>filter-crs</code> parameter as defined in the following OpenAPI 3.0 fragment:</p>
</div>
<div class="listingblock">
<div class="title">query.yaml</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="YAML"><span></span>type: array
items:
   type: object
   properties:
     collections:
       type: array
       items:
          type: string
     properties:
       type: array
       items:
          type: string
     filter-crs:
        type: string
        format: uri
     filter:
        $ref: cql.yaml</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Need to define what join output looks like &#8230;&#8203; i.e. tuples.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>11.3. Examples</h3>
<div id="example_13_1" class="exampleblock">
<div class="title">Example 5. Query a single collection.</div>
<div class="content">
<div class="paragraph">
<p>This example queries a collection, radarsat2, for images that intersect a
specific area and acquired from any instrument that start with "OLI".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>   CLIENT                                                               SERVER
     |                                                                     |
     |   POST /collections/radarsat2/search?limit=500   HTTP/1.1           |
     |   Host: www.someserver.com/                                         |
     |   Accept: application/geo+json                                      |
     |   Content-Type: application/ogcqry+json                             |
     |                                                                     |
     |   {                                                                 |
     |      &quot;and&quot;: [                                                       |
     |         {                                                           |
     |            &quot;like&quot;: [                                                |
     |               {&quot;property&quot;: &quot;eo_instruments&quot;},                       |
     |               &quot;OLI%&quot;                                                |
     |            ]                                                        |
     |         },                                                          |
     |         {                                                           |
     |            &quot;intersects&quot;: [                                          |
     |               {&quot;property&quot;: &quot;footprint&quot;},                            |
     |               {                                                     |
     |                  &quot;type&quot;: &quot;Polygon&quot;,                                 |
     |                  &quot;coordinates&quot;: [                                   |
     |                      [                                              |
     |                         [43.5845,-79.5442],                         |
     |                         [43.6079,-79.4893],                         |
     |                         [43.5677,-79.4632],                         |
     |                         [43.6129,-79.3925],                         |
     |                         [43.6223,-79.3238],                         |
     |                         [43.6576,-79.3163],                         |
     |                         [43.7945,-79.1178],                         |
     |                         [43.8144,-79.1542],                         |
     |                         [43.8555,-79.1714],                         |
     |                         [43.7509,-79.6390],                         |
     |                         [43.5845,-79.5442]                          |
     |                     ]                                               |
     |                  ]                                                  |
     |               }                                                     |
     |            ]                                                        |
     |         }                                                           |
     |      ]                                                              |
     |   }                                                                 |
     |--------------------------------------------------------------------&gt;|
     |                                                                     |
     |   Content-Type: application/json                                    |
     |   {                                                                 |
     |      &quot;type&quot;: &quot;FeatureCollection&quot;                                    |
     |      &quot;features&quot;: [                                                  |
     |         {                                                           |
     |            &quot;id&quot;: &quot;radarsat2.1010&quot;,                                  |
     |            &quot;type&quot;: &quot;Feature&quot;,                                       |
     |            &quot;geometry&quot;: { ... },                                     |
     |            &quot;properties&quot;: { ... }                                    |
     |         },                                                          |
     |         .                                                           |
     |         .                                                           |
     |         .                                                           |
     |         {                                                           |
     |            &quot;id&quot;: &quot;radarsat2.4763&quot;,                                  |
     |            &quot;type&quot;: &quot;Feature&quot;,                                       |
     |            &quot;geometry&quot;: { ... },                                     |
     |            &quot;properties&quot;: { ... }                                    |
     |         }                                                           |
     |         .                                                           |
     |         .                                                           |
     |         .                                                           |
     |      ]                                                              |
     |   }                                                                 |
     |&lt;--------------------------------------------------------------------|</code></pre>
</div>
</div>
</div>
</div>
<div id="example_13_2" class="exampleblock">
<div class="title">Example 6. Example of a bundled query.</div>
<div class="content">
<div class="paragraph">
<p>This example bundles two queries; one of "parks" and some on "lakes".
The response is a GeoJSON feature collection containing the features</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>   CLIENT                                                               SERVER
     |                                                                     |
     |   POST /search   HTTP/1.1                                           |
     |   Host: www.someserver.com/                                         |
     |   Accept: application/json                                          |
     |   Content-Type: application/ogcqry+json                             |
     |                                                                     |
     |   [                                                                 |
     |      {                                                              |
     |         &quot;collections&quot;: [&quot;parks&quot;]                                    |
     |      },                                                             |
     |      {                                                              |
     |         &quot;collections&quot;: [&quot;lakes&quot;]                                    |
     |      }                                                              |
     |   ]                                                                 |
     |--------------------------------------------------------------------&gt;|
     |                                                                     |
     |   Content-Type: application/json                                    |
     |   {                                                                 |
     |      &quot;type&quot;: &quot;FeatureCollection&quot;                                    |
     |      &quot;features&quot;: [                                                  |
     |         {                                                           |
     |            &quot;id&quot;: &quot;park.001&quot;,                                        |
     |            &quot;type&quot;: &quot;Feature&quot;,                                       |
     |            &quot;geometry&quot;: { ... },                                     |
     |            &quot;properties&quot;: { ... }                                    |
     |         },                                                          |
     |         .                                                           |
     |         .                                                           |
     |         .                                                           |
     |         {                                                           |
     |            &quot;id&quot;: &quot;lake.001&quot;,                                        |
     |            &quot;type&quot;: &quot;Feature&quot;,                                       |
     |            &quot;geometry&quot;: { ... },                                     |
     |            &quot;properties&quot;: { ... }                                    |
     |         }                                                           |
     |         .                                                           |
     |         .                                                           |
     |         .                                                           |
     |      ]                                                              |
     |   }                                                                 |
     |&lt;--------------------------------------------------------------------|</code></pre>
</div>
</div>
</div>
</div>
<div id="example_13_3" class="exampleblock">
<div class="title">Example 7. Example of a spatial join query.</div>
<div class="content">
<div class="paragraph">
<p>Find all the lakes in Algonquin Park.  The query object contains a
"collections" key which is the list of collections being queries.
The "filter" key is simply CQL.</p>
</div>
<div class="paragraph">
<p>The response is an array of "tuples".  That is, pairs (since we are
querying two collections) of features that satisfy the query predicates.
Since the "parks" feature in each tuple would always be the same (i.e.
Algonquin Park) we use a JSON reference in every tuple after the first
one to reference the Algoquin Park feature rather than duplicating it
over and over.</p>
</div>
<div class="paragraph">
<p>The features themselves are encoded as GeoJSON.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="JSON"><span></span>   CLIENT                                                               SERVER
     |                                                                     |
     |   POST /search   HTTP/1.1                                           |
     |   Host: www.someserver.com/                                         |
     |   Accept: application/json                                          |
     |   Content-Type: application/ogcqry+json                             |
     |                                                                     |
     |   [                                                                 |
     |      {                                                              |
     |         &quot;collections&quot;: [&quot;parks&quot;,&quot;lakes&quot;]                            |
     |         &quot;filter&quot;: {                                                 |
     |            &quot;and&quot;: [                                                 |
     |               {&quot;eq&quot;: [{&quot;property&quot;: &quot;parks.name&quot;},&quot;Algonquin Park&quot;]} |
     |               {&quot;contains&quot;: [{&quot;property&quot;: &quot;parks.geometry&quot;},         |
     |                             {&quot;property&quot;: &quot;lakes.geometry&quot;}]}        |
     |            ]                                                        |
     |         }                                                           |
     |      }                                                              |
     |   ]                                                                 |
     |--------------------------------------------------------------------&gt;|
     |                                                                     |
     |   Content-Type: application/json                                    |
     |   {                                                                 |
     |      &quot;tuples&quot;: [                                                    |
     |         [                                                           |
     |            {                                                        |
     |               &quot;id&quot;: &quot;park.001&quot;,                                     |
     |               &quot;type&quot;: &quot;Feature&quot;,                                    |
     |               &quot;geometry&quot;: { ... },                                  |
     |               &quot;properties&quot;: { ... }                                 |
     |            },                                                       |
     |            {                                                        |
     |               &quot;id&quot;: &quot;lake.001&quot;,                                     |
     |               &quot;type&quot;: &quot;Feature&quot;,                                    |
     |               &quot;geometry&quot;: { ... },                                  |
     |               &quot;properties&quot;: { ... }                                 |
     |            }                                                        |
     |         ],                                                          |
     |         [                                                           |
     |            { &quot;$ref&quot;: &quot;#/tuples[0]/[0]&quot; },                           |
     |            {                                                        |
     |               &quot;id&quot;: &quot;lake.001&quot;,                                     |
     |               &quot;type&quot;: &quot;Feature&quot;,                                    |
     |               &quot;geometry&quot;: { ... },                                  |
     |               &quot;properties&quot;: { ... }                                 |
     |            }                                                        |
     |         ],                                                          |
     |         .                                                           |
     |         .                                                           |
     |         .                                                           |
     |      ]                                                              |
     |   }                                                                 |
     |&lt;--------------------------------------------------------------------|</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_class_standing_query"><a class="anchor" href="#_requirements_class_standing_query"></a>12. Requirements Class "Standing Query"</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="search-overview"><a class="anchor" href="#search-overview"></a>12.1. Overview</h3>
<table id="rc_standing-query" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirements Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/ogcapi-features-5/1.0/req/standing-query" class="bare">http://www.opengis.net/spec/ogcapi-features-5/1.0/req/standing-query</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>T.B.D.</p>
</div>
<div class="paragraph">
<p>Standing queries are stored queries that are run perodically the results of
which are sent to a response handler (e.g. email, webhook, etc.).</p>
</div>
<div id="example_14_1" class="exampleblock">
<div class="title">Example 8. A standing query example.</div>
<div class="content">
<div class="paragraph">
<p>This is an example of a standing query invocation.  In this case the parameters <code>responseHandler</code> and <code>period</code> are requirements of the standing query.  The parameter <code>since</code> is a parameter os the <code>NewBuildings</code> stored query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.../collections/Buildings/search/NewBuildings?responseHandler=someone@somemail.com&amp;period=P1W&amp;since=2020-01-01</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oas"><a class="anchor" href="#oas"></a>13. OpenAPI 3.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 9.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mediatypes"><a class="anchor" href="#mediatypes"></a>14. Media Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 10.</p>
</div>
<div class="paragraph">
<p>Additional JSON media types that would typically be used in a server that supports JSON are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>application/ogc-query+json</p>
</li>
<li>
<p>application/parameters+json</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clause-security-considerations"><a class="anchor" href="#clause-security-considerations"></a>15. Security Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="#OAFeat-1">OGC API - Features - Part 1: Core</a>, Clause 11.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ats"><a class="anchor" href="#ats"></a>Annex A: Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction"><a class="anchor" href="#_introduction"></a>A.1. Introduction</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This needs to be updated.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>OGC API Features is not a Web Service in the traditional sense. Rather, it defines the behavior and content of a set of Resources exposed through a Web Application Programing Interface (Web API). Therefore, an API may expose resources in addition to those defined by the standard. A test engine must be able to traverse the API, identify and validate test points, and ignore resource paths which are not to be tested.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex B: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12%;">
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 46%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2019-xx-xx</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">J. Doe</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">initial version</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex C: Bibliography</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="OAFeat-Guide"></a> Heazel, Ch.: <strong>Guide to OGC API - Features</strong>, <a href="https://example.org/fixme" class="bare">https://example.org/fixme</a></p>
</li>
<li>
<p><a id="OpenAPI"></a> Open API Initiative: <strong>OpenAPI Specification 3.0.2</strong>,
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md" class="bare">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-12-27 01:45:58 -0500
</div>
</div>
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments  { background: #ffffff; }
pre.pygments .tok-c { color: #008800; font-style: italic } /* Comment */
pre.pygments .tok-err { color: #a61717; background-color: #e3d2d2 } /* Error */
pre.pygments .tok-k { color: #000080; font-weight: bold } /* Keyword */
pre.pygments .tok-ch { color: #008800; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #008800; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #008080 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #008800; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #008800; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #008800; font-weight: bold } /* Comment.Special */
pre.pygments .tok-gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #aa0000 } /* Generic.Error */
pre.pygments .tok-gh { color: #999999 } /* Generic.Heading */
pre.pygments .tok-gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
pre.pygments .tok-go { color: #888888 } /* Generic.Output */
pre.pygments .tok-gp { color: #555555 } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #aaaaaa } /* Generic.Subheading */
pre.pygments .tok-gt { color: #aa0000 } /* Generic.Traceback */
pre.pygments .tok-kc { color: #000080; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #000080; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #000080; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #000080; font-weight: bold } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #000080; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #000080; font-weight: bold } /* Keyword.Type */
pre.pygments .tok-m { color: #0000FF } /* Literal.Number */
pre.pygments .tok-s { color: #0000FF } /* Literal.String */
pre.pygments .tok-na { color: #FF0000 } /* Name.Attribute */
pre.pygments .tok-nt { color: #000080; font-weight: bold } /* Name.Tag */
pre.pygments .tok-ow { font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #0000FF } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #0000FF } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #0000FF } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #0000FF } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #0000FF } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #0000FF } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #0000FF } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #800080 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #0000FF } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #0000FF } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #0000FF } /* Literal.String.Double */
pre.pygments .tok-se { color: #0000FF } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #0000FF } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #0000FF } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #0000FF } /* Literal.String.Other */
pre.pygments .tok-sr { color: #0000FF } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #0000FF } /* Literal.String.Single */
pre.pygments .tok-ss { color: #0000FF } /* Literal.String.Symbol */
pre.pygments .tok-il { color: #0000FF } /* Literal.Number.Integer.Long */
</style>
</body>
</html>